<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="Matias Andina">
<meta name="description" content="I have been struggling a lot with pain in my fingers and wrists. I have tried setting up timers for using the keyboard. But the only thing that seems to work is reducing the typing (aka get away from the computer and stop using the keyboard!).
Tracking hours didn&amp;rsquo;t work well, so I guess a last resort to force me is counting the actual number of keys per day and trying to keep that to a minimum." />
<meta name="keywords" content="homepage, blog, neuroscience, science, programming, freelancer, fun, python" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="/2020/06/python-keylogger/" />


    <title>
        
            Python Keylogger :: Matias Andina  ‚Äî Home &amp; Blog
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="/main.2ad92dc1899f3589710c8dec68a643400183a43d0b7bf38ed3e21bb2dfd96b3d.css">






<meta itemprop="name" content="Python Keylogger">
<meta itemprop="description" content="I have been struggling a lot with pain in my fingers and wrists. I have tried setting up timers for using the keyboard. But the only thing that seems to work is reducing the typing (aka get away from the computer and stop using the keyboard!).
Tracking hours didn&rsquo;t work well, so I guess a last resort to force me is counting the actual number of keys per day and trying to keep that to a minimum."><meta itemprop="datePublished" content="2020-06-13T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2021-02-15T08:03:58-05:00" />
<meta itemprop="wordCount" content="464"><meta itemprop="image" content="/img/m-gray.jpg"/>
<meta itemprop="keywords" content="fun,python," />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="/img/m-gray.jpg"/>

<meta name="twitter:title" content="Python Keylogger"/>
<meta name="twitter:description" content="I have been struggling a lot with pain in my fingers and wrists. I have tried setting up timers for using the keyboard. But the only thing that seems to work is reducing the typing (aka get away from the computer and stop using the keyboard!).
Tracking hours didn&rsquo;t work well, so I guess a last resort to force me is counting the actual number of keys per day and trying to keep that to a minimum."/>








    <meta property="article:published_time" content="2020-06-13 00:00:00 &#43;0000 UTC" />








    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text">Matias Andina</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/about/">About</a></li><li><a href="/research/">Research</a></li><li><a href="/post/">Posts</a></li><li><a href="/projects/">Projects</a></li><li><a href="/contact/">Contact</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
        </span>
    </span>
</header>


            <div class="content">
                
    <main class="post">

        <div class="post-info">
            
            </p>
        </div>

        <article>
            <h2 class="post-title"><a href="/2020/06/python-keylogger/">Python Keylogger</a></h2>

            
            
            

            <div class="post-content">
                <p>I have been struggling a lot with pain in my fingers and wrists.
I have tried setting up timers for using the keyboard.
But the only thing that seems to work is reducing the typing (aka get away from the computer and stop using the keyboard!).</p>
<p>Tracking hours didn&rsquo;t work well, so I guess a last resort to force me is counting the actual number of keys per day and trying to keep that to a minimum.</p>
<p>After a little google searching, I found inspiration on this post: <a href="https://www.tutorialspoint.com/design-a-keylogger-in-python">Design a Keylogger in Python</a>.</p>
<p>I wanted something <strong>simple</strong>. Just count and save to file, in case future me wants to do some sort of analysis. Nothing fancy, no optimization. Most importantly something I can trust is not sending every keystroke I write over the internets.</p>
<blockquote>
<p>I will be using pynput library</p>
</blockquote>
<p>You can read the <a href="https://pynput.readthedocs.io/en/latest/keyboard.html">pynput docs here</a>.</p>
<p>Of note, <code>pip3 install pynput</code> failed. If only python made it possible for people to install things &hellip; ü§∑</p>
<p>Anyway, mystery aside, <code>python -m pip install pynput</code> worked. I kind of trust (read blind faith) this library is safe enough. And my passwords are kinda there scrambled somewhere in the text file but I don&rsquo;t plan to host the file anywhere so it&rsquo;s reasonably safe (please don&rsquo;t get remote access to my computer üôè).</p>
<p>The output to console (again, keep it simple) looks like this</p>
<pre><code>Today is 2020-06-11 and the key count is: 0
...
Today is 2020-06-11 and the key count is: 12000
Today is a brand new day :)
Today is 2020-06-12 and the key count is: 0
Today is 2020-06-12 and the key count is: 1000
Today is 2020-06-12 and the key count is: 2000
...
Today is 2020-06-12 and the key count is: 13000
Today is a brand new day :)
Today is 2020-06-13 and the key count is: 0
Today is 2020-06-13 and the key count is: 1000
Today is 2020-06-13 and the key count is: 2000
</code></pre>
<p>For those of you who want to use it, you can find the code below the shameless plug.</p>
<hr>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<hr>
<pre><code class="language-python">from pynput.keyboard import Key, Listener
import logging
import os
import datetime

# log_dir defaults to Desktop
log_dir = '/home/matias/Desktop'
# updates every 100 keystrokes
update_every = 1000
day_count = 0
today = datetime.date.today().isoformat()
   
def on_press(key):
	logging.info(str(key))

def key_count(key):
	global today, day_count, update_every
	if today == datetime.date.today().isoformat():
		if day_count % update_every == 0:
			print(f&quot;Today is {today} and the key count is: {day_count}&quot;)
		# always update the counter
		day_count = day_count + 1
	else:
		# update today's value
		today = datetime.date.today().isoformat()
		print(&quot;Today is a brand new day :)&quot;)
		# reset the counter
		day_count = 0
	return

def main():
	logging.basicConfig(filename = (os.path.join(log_dir, &quot;keylog.txt&quot;)),
	 level=logging.DEBUG,
	 format='%(asctime)s: %(message)s')
	with Listener(
		on_press=on_press,
		on_release=key_count) as listener:
		listener.join()

if __name__ == '__main__':
	print(&quot;Starting keylogger&quot;)
	main()
</code></pre>

            </div>
        </article>

        <hr />

        <div class="post-info">
            
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg>

        <span class="tag"><a href="/tags/fun/">fun</a></span>
        <span class="tag"><a href="/tags/python/">python</a></span>
        
    </p>

            
			    <p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-commit"><circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line></svg><a href="c23fcc34ca4e223a9f89a3d7a6141683a1228202" target="_blank" rel="noopener">c23fcc3</a> @ 2021-02-15</p>
  		</div>
    </main>

            </div>

            
                <footer class="footer">
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2022</span>
            <span><a href="/">Matias Andina</a></span>
            <span><a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC BY-NC 4.0</a></span><span><a href="/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span>
        </div>
    </div>
    <div class="footer__inner">
        <div class="footer__content">
            <span>Powered by <a href="http://gohugo.io">Hugo</a></span>
            <span>Made with &#10084; by <a href="https://github.com/rhazdon">Djordje Atlialp</a></span>
          </div>
    </div>
</footer>

            
        </div>

        




 <script type="text/javascript" src="/bundle.min.2ce64ea6ea44a72b13dd812fc2eb5cca3efe878cce258a47c137c17edf46e0602a05e422b618a5b80b5939c731b7a293351c2f2222a21f6ee27e54a8448dd20e.js"></script>



    </body>
</html>
