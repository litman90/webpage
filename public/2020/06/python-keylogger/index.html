<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author"
    content="Matias Andina">
<meta name="description"
    content="I have been struggling a lot with pain in my fingers and wrists. I have tried setting up timers for using the keyboard. But the only thing that seems to work is reducing the typing (aka get away from the computer and stop using the keyboard!).
Tracking hours didn‚Äôt work well, so I guess a last resort to force me is counting the actual number of keys per day and trying to keep that to a minimum." />
<meta name="keywords" content="homepage, blog, neuroscience, science, programming, freelancer" />
<meta name="robots" content="noodp" />
<link rel="canonical" href="/2020/06/python-keylogger/" />


<title>
    
    Python Keylogger :: Matias Andina  ‚Äî Home &amp; Blog
    
</title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.2.1/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="/main.min.73f55a8d452be4a71b2960620b80252cf69abd84d63fe7501abf0a39b1a70a78.css">



<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#252627">
<link rel="shortcut icon" href="/favicon.ico">
<meta name="theme-color" content="#252627"><meta itemprop="name" content="Python Keylogger">
<meta itemprop="description" content="I have been struggling a lot with pain in my fingers and wrists. I have tried setting up timers for using the keyboard. But the only thing that seems to work is reducing the typing (aka get away from the computer and stop using the keyboard!).
Tracking hours didn‚Äôt work well, so I guess a last resort to force me is counting the actual number of keys per day and trying to keep that to a minimum.">


<meta itemprop="datePublished" content="2020-06-13T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2020-06-13T14:53:41-04:00" />
<meta itemprop="wordCount" content="511">



<meta itemprop="keywords" content="fun,python," />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="/img/m-gray.jpg"/>

<meta name="twitter:title" content="Python Keylogger"/>
<meta name="twitter:description" content="I have been struggling a lot with pain in my fingers and wrists. I have tried setting up timers for using the keyboard. But the only thing that seems to work is reducing the typing (aka get away from the computer and stop using the keyboard!).
Tracking hours didn‚Äôt work well, so I guess a last resort to force me is counting the actual number of keys per day and trying to keep that to a minimum."/>




<meta property="article:published_time" content="2020-06-13 00:00:00 &#43;0000 UTC" />







    </head>

    <body class="dark-theme">
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text">Matias Andina</span>
            <span class="logo__cursor" style=""></span>
        
    </div>
</a>

        <script type="text/javascript" async
  src="https://cdn.jsdelivr.net/npm/mathjax@2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[','\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre','code'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});
</script>

        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/about/">About</a></li><li><a href="/research/">Research</a></li><li><a href="/post/">Posts</a></li><li><a href="/projects/">Projects</a></li><li><a href="/contact/">Contact</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            

            <span class="theme-toggle unselectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>
</span>
        </span>
    </span>
</header>


            <div class="content">
                
    <main class="post">

        <div class="post-info">
            
            </p>
        </div>

        <article>
            <h2 class="post-title"><a href="/2020/06/python-keylogger/">Python Keylogger</a></h2>

            

            <div class="post-content">
                


<p>I have been struggling a lot with pain in my fingers and wrists.
I have tried setting up timers for using the keyboard.
But the only thing that seems to work is reducing the typing (aka get away from the computer and stop using the keyboard!).</p>
<p>Tracking hours didn‚Äôt work well, so I guess a last resort to force me is counting the actual number of keys per day and trying to keep that to a minimum.</p>
<p>After a little google searching, I found inspiration on this post: <a href="https://www.tutorialspoint.com/design-a-keylogger-in-python">Design a Keylogger in Python</a>.</p>
<p>I wanted something <strong>simple</strong>. Just count and save to file, in case future me wants to do some sort of analysis. Nothing fancy, no optimization. Most importantly something I can trust is not sending every keystroke I write over the internets.</p>
<blockquote>
<p>I will be using pynput library</p>
</blockquote>
<p>You can read the <a href="https://pynput.readthedocs.io/en/latest/keyboard.html">pynput docs here</a>.</p>
<p>Of note, <code>pip3 install pynput</code> failed. If only python made it possible for people to install things ‚Ä¶ ü§∑</p>
<p>Anyway, mystery aside, <code>python -m pip install pynput</code> worked. I kind of trust (read blind faith) this library is safe enough. And my passwords are kinda there scrambled somewhere in the text file but I don‚Äôt plan to host the file anywhere so it‚Äôs reasonably safe (please don‚Äôt get remote access to my computer üôè).</p>
<p>The output to console (again, keep it simple) looks like this</p>
<pre><code>Today is 2020-06-11 and the key count is: 0
...
Today is 2020-06-11 and the key count is: 12000
Today is a brand new day :)
Today is 2020-06-12 and the key count is: 0
Today is 2020-06-12 and the key count is: 1000
Today is 2020-06-12 and the key count is: 2000
...
Today is 2020-06-12 and the key count is: 13000
Today is a brand new day :)
Today is 2020-06-13 and the key count is: 0
Today is 2020-06-13 and the key count is: 1000
Today is 2020-06-13 and the key count is: 2000</code></pre>
<p>For those of you who want to use it, you can find the code below the shameless plug.</p>
<hr />
<p><blockquote>
<p>I write fiction and non-fiction.<br/>
I write open-source software.<br/>
I create generative art.  </p>

<p>All of these are available for free in different media.
If you like what I do, and want me to keep creating, you can contribute using the links below.</p>
</blockquote>
<table style="width:100%">
  <tr>
  <th>Patreon</th>
  <td>
  <a href="https://www.patreon.com/bePatron?u=25827926" data-patreon-widget-type="become-patron-button">Become a Patron!</a><script async src="https://c6.patreon.com/becomePatronButton.bundle.js"></script>
  </td>
  <tr>
    <td>
    </td>
  </tr>
  <tr>
  <th>Paypal</th>
  <td>
  <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
<input type="hidden" name="cmd" value="_donations" />
<input type="hidden" name="business" value="BWWTTZ2XSDAZ8" />
<input type="hidden" name="currency_code" value="USD" />
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif" border="0" name="submit" title="PayPal - The safer, easier way to pay online!" alt="Donate with PayPal button" />
<img alt="" border="0" src="https://www.paypal.com/en_US/i/scr/pixel.gif" width="1" height="1" />
</form>

  </td>
  </tr>
</table>
</p>
<hr />
<pre class="python"><code>from pynput.keyboard import Key, Listener
import logging
import os
import datetime

# log_dir defaults to Desktop
log_dir = &#39;/home/matias/Desktop&#39;
# updates every 100 keystrokes
update_every = 1000
day_count = 0
today = datetime.date.today().isoformat()
   
def on_press(key):
    logging.info(str(key))

def key_count(key):
    global today, day_count, update_every
    if today == datetime.date.today().isoformat():
        if day_count % update_every == 0:
            print(f&quot;Today is {today} and the key count is: {day_count}&quot;)
        # always update the counter
        day_count = day_count + 1
    else:
        # update today&#39;s value
        today = datetime.date.today().isoformat()
        print(&quot;Today is a brand new day :)&quot;)
        # reset the counter
        day_count = 0
    return

def main():
    logging.basicConfig(filename = (os.path.join(log_dir, &quot;keylog.txt&quot;)),
     level=logging.DEBUG,
     format=&#39;%(asctime)s: %(message)s&#39;)
    with Listener(
        on_press=on_press,
        on_release=key_count) as listener:
        listener.join()

if __name__ == &#39;__main__&#39;:
    print(&quot;Starting keylogger&quot;)
    main()</code></pre>

            </div>
        </article>

        <hr />

        <div class="post-info">
  				<p>
  					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg><span class="tag"><a href="/tags/fun">fun</a></span><span class="tag"><a href="/tags/python">python</a></span>
  				</p>
  				    <p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-commit"><circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line></svg><a href="ed1095d63372d5d42c18a20606c7931552b13faa" target="_blank" rel="noopener">ed1095d</a> @ 2020-06-13</p>
  			</div>

        
    </main>

            </div>

            
                <footer class="footer">
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2021</span>
            
                <span><a href="/">Matias Andina</a></span>
            
            <span><a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC BY-NC 4.0</a></span>
            <span> <a href="/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span>
        </div>
    </div>
    <div class="footer__inner">
        <div class="footer__content">

        </div>
    </div>
    <div class="footer__inner">
        <div class="footer__content">
            <span>Powered by <a href="http://gohugo.io">Hugo</a></span>
            <span>Made with &#10084; by <a href="https://github.com/rhazdon">rhazdon</a></span>
        </div>
    </div>
</footer>

            
        </div>

        




<script type="text/javascript" src="/bundle.min.4c3fb12a087ceed4a52cb5d57068a9795c7069617a01ca70f788052ad66e1791779e6c72686e1dc0ca13dc03b0203204b6566bb0dd1ee80de2b7ff4d8fe53db2.js" integrity="sha512-TD&#43;xKgh87tSlLLXVcGipeVxwaWF6Acpw94gFKtZuF5F3nmxyaG4dwMoT3AOwIDIEtlZrsN0e6A3it/9Nj&#43;U9sg=="></script>



    </body>
</html>
