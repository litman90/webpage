<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>Data Visualization Challenge 2</title>
  <meta property="og:title" content="Data Visualization Challenge 2" />
  <meta name="twitter:title" content="Data Visualization Challenge 2" />
  <meta name="description" content="This post is made as a backup for the data visualization challenge number 2. Data comes from the daily posts of the members of the Data Visualization Society (DVS) on the DVS Slack channels. You can see everybody’s submissions for the challenge here.
I am also very motivated to explore the dark versions of the ggplot themes. The package I’m going to be using is called ggdark.
library(tidyverse) library(ggdark) library(lubridate) We read the data from the repository.">
  <meta property="og:description" content="This post is made as a backup for the data visualization challenge number 2. Data comes from the daily posts of the members of the Data Visualization Society (DVS) on the DVS Slack channels. You can see everybody’s submissions for the challenge here.
I am also very motivated to explore the dark versions of the ggplot themes. The package I’m going to be using is called ggdark.
library(tidyverse) library(ggdark) library(lubridate) We read the data from the repository.">
  <meta name="twitter:description" content="This post is made as a backup for the data visualization challenge number 2. Data comes from the daily posts of the members of the Data Visualization Society (DVS) on the DVS Slack channels. You can …">
  <meta name="author" content="Matias Andina"/>
  <link href='/img/webpage_logo.ico' rel='icon' type='image/x-icon'/>
  <meta property="og:image" content="/img/m-gray.jpg" />
  <meta name="twitter:image" content="/img/m-gray.jpg" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@NeuroMLA" />
  <meta name="twitter:creator" content="@NeuroMLA" />
  <meta property="og:url" content="/2019/04/data-visualization-challenge-2/" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Matias Andina" />

  <meta name="generator" content="Hugo 0.54.0" />
  <link rel="canonical" href="/2019/04/data-visualization-challenge-2/" />
  <link rel="alternate" href="/index.xml" type="application/rss+xml" title="Matias Andina">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css" integrity="sha384-wITovz90syo1dJWVh32uuETPVEtGigN07tkttEqPv+uR2SE/mbQcG7ATL28aI9H0" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" /><link rel="stylesheet" href="/css/syntax.css" /><link rel="stylesheet" href="/css/codeblock.css" />



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">



<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

</head>

  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">Matias Andina</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="About" href="/page/about/">About</a>
            </li>
          
        
          
            <li class="navlinks-container">
              <a class="navlinks-parent" href="javascript:void(0)">Research</a>
              <div class="navlinks-children">
                
                  <a href="/page/Learning-and-Memory">Learning and Memory</a>
                
                  <a href="/page/Maternal-Behavior">Maternal Behavior</a>
                
              </div>
            </li>
          
        
          
            <li>
              <a title="Teaching" href="/page/teaching/">Teaching</a>
            </li>
          
        
          
            <li>
              <a title="Blog" href="/post/">Blog</a>
            </li>
          
        
          
            <li>
              <a title="Tags" href="/tags">Tags</a>
            </li>
          
        

        

        
      </ul>
    </div>

    <div class="avatar-container">
      <div class="avatar-img-border">
        
          <a title="Matias Andina" href="/">
            <img class="avatar-img" src="/img/m-gray.jpg" alt="Matias Andina" />
          </a>
        
      </div>
    </div>

  </div>
</nav>




    
  
  
  




  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="post-heading">
              <h1>Data Visualization Challenge 2</h1>
                
                
                  <span class="post-meta">
  
  
  <i class="fa fa-calendar-o"></i>&nbsp;Posted on April 14, 2019
  
  
  
</span>


                
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        


<p>This post is made as a backup for the data visualization challenge number 2. Data comes from the daily posts of the members of the Data Visualization Society (DVS) on the DVS Slack channels. You can see everybody’s submissions for the challenge <a href="https://www.datavisualizationsociety.com/challenge">here</a>.</p>
<p>I am also very motivated to explore the dark versions of the ggplot themes. The package I’m going to be using is called <code>ggdark</code>.</p>
<pre class="r"><code>library(tidyverse)
library(ggdark)
library(lubridate)</code></pre>
<p>We read the data from the repository.</p>
<pre class="r"><code>df &lt;- read_csv(&quot;https://raw.githubusercontent.com/data-visualization-society/datavizsociety/master/challenge_data/dvs_challenge_2_channel_topics_over_time/flattened_channel_data.csv&quot;)</code></pre>
<p>Let’s perform some summary stats. There’s 62 channels but I will focus on the top 15 channels (according to their total volume of characters). I’m using this metric because the correlation between characters and the number of posts is, naturally, good.</p>
<pre class="r"><code>ggplot(df, aes(posts+responses, characters))+
  geom_smooth(method = &quot;lm&quot;, se=FALSE, lty=2)+
  geom_point(alpha=0.4)+
  dark_theme_bw()</code></pre>
<p><img src="/post/2019-04-14-data-visualization-challenge-2_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p>Summary.</p>
<pre class="r"><code>sum_df &lt;- df %&gt;% group_by(channel) %&gt;%
  summarise(total_channel = sum(characters),
         median_channel = median(characters)) %&gt;%
  top_n(15, wt =  total_channel) %&gt;%
  arrange(desc(total_channel))</code></pre>
<p>Modify the original data and do some stats.</p>
<pre class="r"><code>df &lt;- df %&gt;% group_by(channel) %&gt;%
  mutate(total_channel = sum(characters),
         median_channel = median(characters),
         char_per_ping = characters/(posts+responses))   %&gt;%
  ungroup() %&gt;%
  group_by(date) %&gt;%
  mutate(daily_flow = sum(characters),
         daily_posts = sum(posts+responses))%&gt;%
  ungroup()</code></pre>
<div id="first-pair" class="section level2">
<h2>First pair</h2>
<p>The idea behind the first pair of plots is to see the sheer amount of volume on certain channels.</p>
<p>A good way of seeing how the top channels are ordered according to output is to do an ordered boxplot.</p>
<pre class="r"><code>top_box &lt;-  df %&gt;%
  filter(channel %in% unique(sum_df$channel)) %&gt;%
  mutate(channel=fct_reorder(factor(channel), median_channel)) %&gt;%
ggplot(aes(channel, log10(characters)))+
  geom_boxplot()+
  coord_flip()+
  dark_theme_bw()+
  labs(x=&quot;&quot;)+
  ggtitle(sprintf(&quot;Top %s Channels&quot;,
                  length(unique(sum_df$channel))),
          &quot;Metric: median characters&quot;)</code></pre>
<p>I’m also curious about how persistent in time the flow is.</p>
<pre class="r"><code>wave &lt;- df %&gt;%
  filter(channel %in% unique(sum_df$channel)) %&gt;%
  mutate(channel=fct_reorder(factor(channel), total_channel)) %&gt;% 
  ggplot(aes(date, channel, color=log10(characters))) +
  geom_line(aes(lwd=characters))+
  dark_theme_bw()+
  labs(y = &quot;&quot;, x=&quot;Date&quot;)+
  guides(color = FALSE)+
  scale_color_gradient(low = &quot;#613A00&quot;, high=&quot;#FA9800&quot;)+
  ggtitle(&quot;Top 15 channels&quot;, 
          &quot;Metric: total characters&quot;)+
  scale_y_discrete(position = &quot;right&quot;)+
  theme(legend.position = &quot;none&quot;)</code></pre>
<p>We put everything together with the <code>cowplot</code> package.</p>
<pre class="r"><code>cowplot::plot_grid(top_box, wave)
# Save the plot
#ggsave(&quot;box_wave.svg&quot;, width = 8, height = 4, units = &quot;in&quot;, dpi=&quot;retina&quot;)</code></pre>
<p>I later modified this output a bit using Inkscape.</p>
<div class="figure">
<img src="/img/data-viz-challenge-2/box_wave.svg" />

</div>
</div>
<div id="lengthy-channels" class="section level2">
<h2>Lengthy channels</h2>
<p>While most of the channels have a low median, even below a full tweet, it looks like some channels tend to have very lengthy posts.</p>
<pre class="r"><code># Calculate median
median_post &lt;- median(
  df$characters/(df$posts +df$responses))

# Do the plot  
lengthy &lt;- ggplot(df, aes(log10(total_channel),
               char_per_ping))+
  dark_theme_bw()+
  geom_hline(yintercept = 280, lty=2)+
  geom_hline(yintercept = median(
    df$characters/(df$posts +df$responses)), lty=2)+
  annotate(&quot;text&quot;, x = 3, y= c(200, 340), label=c(&quot;Median post&quot;,
                                            &quot;One tweet&quot;))+
         geom_point(aes(color=channel), alpha=0.9)+
         scale_color_viridis_d(direction = -1)+
         theme(legend.position = &quot;none&quot;)+
  ggrepel::geom_text_repel(data=filter(df,
                                       char_per_ping &gt; 850),
            aes(label = channel, color=channel))+
  labs(x=bquote(
    log10 ~&quot;(total characters)&quot;),
    y=&quot;characeters per post&quot;)+
  ggtitle(&quot;Channels with lengthy posts&quot;)


# Save
# ggsave(&quot;lengthy.svg&quot;, width = 8, height = 4, units = &quot;in&quot;,dpi=&quot;retina&quot;)</code></pre>
<div class="figure">
<img src="/img/data-viz-challenge-2/lengthy.svg" />

</div>
</div>
<div id="share-of-flow" class="section level2">
<h2>Share of flow</h2>
<p>What is the share of each channel on the total flow within the DataViz Slack?</p>
<pre class="r"><code>top_top_channels &lt;- sum_df %&gt;%
  arrange(desc(total_channel)) %&gt;%
  slice(1:5)

share &lt;- df %&gt;% group_by(date) %&gt;%
  mutate(big_channel = ifelse(channel %in% top_top_channels$channel,
                              channel, &quot;other&quot;),
    total=sum(characters),
    rel_char = characters/total) %&gt;%
  ggplot(aes(date, rel_char, fill=big_channel))+
  geom_col(width = 1)+
  scale_fill_viridis_d(direction = -1)+
  dark_theme_bw()+
  theme(legend.position = &quot;bottom&quot;)+
  labs(x=&quot;&quot;, y=&quot;Relative share&quot;, fill=&quot;Channel&quot;)+
  ggtitle(&quot;Share of the conversation&quot;,
          &quot;Relative share of the total characters per day&quot;)+
  scale_x_date(limits = c(as.Date(&quot;2019-02-18&quot;),
                          as.Date(&quot;2019-04-23&quot;)),
               date_breaks = &quot;1 week&quot;, 
               date_labels = &quot;%b-%d&quot;)</code></pre>
<p>It seems the initial bump was driven by many (lengthy) introductions, and nowadays the discussion has moved towards other channels.</p>
<pre class="r"><code>intro_decay &lt;-  ggplot(df, aes(date, daily_flow))+
  geom_line()+
  geom_line(data=filter(df, channel %in% c(
    &quot;-introductions&quot;)),
            aes(date, characters), color=&quot;yellow&quot;)+
  dark_theme_bw()+
  xlab(&quot;&quot;) + ylab(&quot;Daily characters&quot;)+
  annotate(&quot;text&quot;, x=as.Date(c(&quot;2019-04-15&quot;,
                               &quot;2019-04-12&quot;)),
           y = c(1000, 50000),
           label=c(&quot;-introductions&quot;, &quot;all channels&quot;),
            color=c(&quot;yellow&quot;, &quot;white&quot;))+
    scale_x_date(limits = c(as.Date(&quot;2019-02-18&quot;),
                              as.Date(&quot;2019-04-23&quot;)),
                 date_breaks = &quot;1 week&quot;, 
                 date_labels = &quot;%b-%d&quot;)</code></pre>
<p>Let’s see how it looks like.</p>
<pre class="r"><code># We put everything together with cowplot
cowplot::plot_grid(share,intro_decay,
                   nrow = 2, rel_heights = c(2,1))</code></pre>
<p><img src="/post/2019-04-14-data-visualization-challenge-2_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<pre class="r"><code># ggsave(filename = &quot;share_plot.svg&quot;, width = 12, height = 6, dpi=&quot;retina&quot;)</code></pre>
<p>I later modified this plot using Inkscape. The final version is this one.</p>
<div class="figure">
<img src="/img/data-viz-challenge-2/share_plot.svg" />

</div>
</div>
<div id="weekday-news" class="section level2">
<h2>Weekday news</h2>
<p>Because everything is seasonal, let’s analyze by days of the week. Seems like Tuesday to Thursday are the days with most movement, waning down on Friday and into the weekend.</p>
<pre class="r"><code>ggplot(df, aes(wday(date, label=TRUE, abbr = TRUE, week_start = 1),
               daily_posts))+
  geom_line(color=&quot;gray80&quot;)+
  stat_summary(geom = &quot;point&quot;,
               fun.y = median, size=2.5)+
  dark_theme_bw()+
  labs(x=&quot;&quot;, y=&quot;Number of daily posts&quot;)+
  ggtitle(&quot;Weekly post variations&quot;,
          &quot;Points represent median daily post on a 
          given weekday.\nLines show full range.&quot;)

# ggsave(filename= &quot;weekly_vars.svg&quot;, width = 8, height = 6 , dpi=&quot;retina&quot;)</code></pre>
<div class="figure">
<img src="/img/data-viz-challenge-2/weekly_vars.svg" />

</div>
</div>

      </article>

      
        <ul class="pager blog-pager">
          
            <li class="previous">
              <a href="/2019/04/email-analysis/" data-toggle="tooltip" data-placement="top" title="Email analysis">&larr; Previous Post</a>
            </li>
          
          
            <li class="next">
              <a href="/2019/05/birthday-meritocracy/" data-toggle="tooltip" data-placement="top" title="Birthday Meritocracy">Next Post &rarr;</a>
            </li>
          
        </ul>
      


      
        
        
      

    </div>
  </div>
</div>

    <footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
                <a href="mailto:matiasandina@gmail.com" title="Email me">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://github.com/matiasandina" title="GitHub">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://twitter.com/NeuroMLA" title="Twitter">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://linkedin.com/in/matias-andina-58a0a4b5" title="LinkedIn">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
          <li>
            
            <a href="/index.xml" title="RSS">
            
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              <a href="matiasandina.netlify.com">Matias Andina</a>
            
          

          &nbsp;&bull;&nbsp;
          2019

          
            &nbsp;&bull;&nbsp;
            <a href="/">Matias Andina</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="http://gohugo.io">Hugo v0.54.0</a> powered &nbsp;&bull;&nbsp; Theme by <a href="http://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a> adapted to <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a>
          
        </p>
      </div>
    </div>
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.js" integrity="sha384-/y1Nn9+QQAipbNQWU65krzJralCnuOasHncUFXGkdwntGeSvQicrYkiUBwsgUqc1" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/contrib/auto-render.min.js" integrity="sha384-dq1/gEHSxPZQ7DdrM82ID4YVol9BYyU7GbWlIwnwyPzotpoc57wDw/guX8EaYGPx" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="/js/main.js"></script><script> renderMathInElement(document.body); </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script>
<script src="/js/load-photoswipe.js"></script>






  </body>
</html>

