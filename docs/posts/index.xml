<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>Yair Litman</title>
<link>https://matiasandina.netlify.app/posts/</link>
<atom:link href="https://matiasandina.netlify.app/posts/index.xml" rel="self" type="application/rss+xml"/>
<description></description>
<generator>quarto-1.6.32</generator>
<lastBuildDate>Fri, 12 Jan 2024 00:00:00 GMT</lastBuildDate>
<item>
  <title>Recoding America</title>
  <dc:creator>Matias Andina</dc:creator>
  <link>https://matiasandina.netlify.app/posts/2024-01-12-recoding-america/</link>
  <description><![CDATA[ 





<section id="a-strong-start" class="level2">
<h2 class="anchored" data-anchor-id="a-strong-start">A Strong Start</h2>
<p>In order to continue <a href="https://matiasandina.netlify.app/posts/2023-06-10-goodreads/">my 2023 challenge</a>, I hoarded several books written by women. <a href="https://amzn.to/3RSow6h">Recoding America</a>, by Jennifer Pahlka, was sitting in my queue waiting for the right moment, and I felt January 2024 was as good as it gets to dive into it. My hopes were high, and the author delivered above and beyond.</p>
<p><a href="https://amzn.to/3RSow6h">Recoding America</a> is jammed with examples of the good, the bad, and the ugly when it comes to doing technology work in the Government. The prose is clear and the chosen examples illustrate the point the author is trying to make. For a non-fiction book, it’s a page turner and kept me reading wide awake at night. Even when the events narrated imply terrible things happening to terrible people, there is an optimistic tone carrying you forward and giving you hope.</p>
<p>There’s just too much to unpack and I feel I wouldn’t be able to do a good job at it (i.e., go read the book, it’s fantastic!). But I wanted to keep some reflections/notes from my highlights with a few major points.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2024-01-12-recoding-america/images/justice_scales.png" class="img-fluid figure-img"></p>
<figcaption>Image Generated with GPT</figcaption>
</figure>
</div>
</section>
<section id="implementation" class="level2">
<h2 class="anchored" data-anchor-id="implementation">Implementation</h2>
<p>If there was one take home message from this book, is that we should <strong>stop arguing about policies, and only argue about implementation</strong><sup>1</sup>. Even when specific laws pass, what is the actual effect of these laws? Who ends up being served by them? What conflicts do they generate? It’s about real people dealing with real systems, not some abstract agents in a game theoretic scenario. The author states that this is an ever present reality in the policy-making world.</p>
<p>It’s funny to see the “Thinkers vs Doers” dilemma playing in Government. But maybe I shouldn’t be surprised since I have experienced it elsewhere. I find it strange that we want to build these hierarchies everywhere we go. Maybe they arise as a natural result of specialization of labor, with domain experts being really good at one thing and not the other? It’s hard to imagine we can do anything anywhere without a fluid dialogue between these two camps. It’s sad to see Government entangled in these infantile quests.</p>
<p>Most times that there’s a contentious debate at home/work/whatever, I have tried to have discussions about implementation with people. I find that people often don’t want to discuss implementation. We are stuck on <em>whether</em> we should do an idealized version of something or not. Or <em>whether</em> any hot topic should be a right provided by Government or not.</p>
<p>In my mind, we should make the debate more practical: what’s <em>the current state of affairs</em> and how our <em>implementation</em> modifies that state of affairs? I’ve seen it split into these bullet points before:</p>
<ul>
<li><p>Where are we now? People have facts and alternative facts.</p></li>
<li><p>Where are we going? There’s as many opinions as people alive.</p></li>
<li><p>How do we get from here to there? <strong>Nobody wants to talk about this</strong></p></li>
</ul>
<p>I feel we are stuck on what’s the true nature of the world and where do we want to take it. We spend far less time talking about the path to get there. In the meantime we implement the policy best known as <em>no policy</em> or the famous <em>old policy that got us here in the first place</em>. Even when we try to implement <em>new</em> policy, we forget to measure and engage with that implementation, or to adjust it when it fails.</p>
<p><a href="https://amzn.to/3RSow6h">Recoding America</a> is filled with examples of people working to improve this situation. I see fertile ground here. I feel optimistic for change.</p>
<section id="other-core-concepts" class="level3">
<h3 class="anchored" data-anchor-id="other-core-concepts">Other Core Concepts</h3>
<p>The author makes a very nice bite-sized presentation of the core principles of this book. You can read them in the original format <a href="https://www.recodingamerica.us/concepts">here</a>. But I cannot stop mentioning two that I find true for any organization.</p>
<ul>
<li>Culture eats policy: whatever policy you try to implement,</li>
<li>It has to make sense to a person: stop it with the legalese, talk to humans.</li>
</ul>
</section>
</section>
<section id="destroying-the-myth" class="level2">
<h2 class="anchored" data-anchor-id="destroying-the-myth">Destroying the myth</h2>
<p>One myth about the people working in Government is that they are useless sloths who don’t know better. These creatures have only one pastime: to make everyone’s lives more difficult. Jennifer Pahlka’s book serves as proof that, <em>if anything,</em> people working in the Government are actually super qualified and doing their jobs diligently. In fact, they are held to such a degree of accountability, that this eagerness to comply is what gets them into trouble.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2024-01-12-recoding-america/images/clipboard-2494159710.png" class="img-fluid figure-img"></p>
<figcaption>The Simpsons S10 E7 “Lisa Gets an ‘A’”</figcaption>
</figure>
</div>
<p>When coupled with “Big Government” fears, the sloth myth supercharges the demands to make Government small. Note that I said small, and not efficient. It seems to me that campaigns are always looking to get Government out of places, instead of improving how it works and how we relate to it. <a href="https://amzn.to/3RSow6h">Recoding America</a> brings a compelling case against these myths. Here’s the gist of it:</p>
<ol type="1">
<li>When implementing policy, any divergence from the law will be met with endless lawsuits.</li>
<li>Therefore, government employees want to comply with the law and all the requirements for each project. It’s not about exercising judgement, it’s about extreme compliance with all possible scenarios. It’s about being evaluated, promoted, and fired for how well you do what you are told to do. Even if it is stupid or doesn’t help anybody.</li>
<li>Solving for all possible cases implies a level of complexity that doesn’t serve anyone and creates maintenance challenges. Moreover, it increases the costs for both the citizens, who need to pay to interact with Government in a sane way<sup>2</sup>, and the Government itself, who has to request contractors fulfill huge systems for very simple things. Most importantly, it alienates those citizens in need, who cannot afford to pay for others to deal with the Government in their place.</li>
</ol>
<p>That is the essence of “Big Useless Government” right there. Because all projects must be massive, and “Small Government” demands keep pressuring Government to outsource, the Government doesn’t have the in-house talent to deal with any projects. As a result, Government ends up <em>spending way more</em> than it should.</p>
<blockquote class="blockquote">
<p>Small Government demands beget Big Government Spending</p>
</blockquote>
</section>
<section id="write-less-do-more" class="level2">
<h2 class="anchored" data-anchor-id="write-less-do-more">Write Less do More</h2>
<p>We humans have this tendency to always be on the look out to adding things. We are much more accustomed to trying to solve problems by <em>adding</em> than <em>subtracting</em>. In politics, that translates to legislating the hell out of things, which leads to a law base with many regulatory requirements.</p>
<p>Because we have been writing laws for a while, but it’s not trivial to keep count of which regulations conflict with each other. It’s also not the case that people in Government remove outdated stuff (i.e., the task is far from trivial and not mandated). I find the argument regarding vast simplification of laws by <em>reducing</em> quite compelling.</p>
</section>
<section id="wrap-up" class="level2">
<h2 class="anchored" data-anchor-id="wrap-up">Wrap-up</h2>
<p>Although I had previously read <a href="https://amzn.to/499H0Gv">Hack Your Bureaucracy</a>, by Marina Nitze and Nick Sinai, I consider myself quite ignorant in all things government. Both books are filled with concrete examples, practical solutions, and real experiences with people. Both books highlight the importance of culture over tech, which is quite refreshing coming from technologists. Something that <a href="https://amzn.to/3RSow6h">Recoding America</a> leaves you with is the feeling that we cannot bail out. Regardless of the current situation, we have to play our part. If we belong to those who know technology, we should consider serving directly in Goverment. As citizens, we are the ones who can serve as agents of change. It is our collective responsibility.</p>
<p>I see fertile ground here. I feel optimistic for change.</p>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Exaggeration is mine. It’s more like switch from 99.9% policy/law/legalese 0.01% implementation to something substantially more balanced↩︎</p></li>
<li id="fn2"><p>For example, when filing taxes↩︎</p></li>
</ol>
</section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{andina2024,
  author = {Andina, Matias},
  title = {Recoding {America}},
  date = {2024-01-12},
  url = {https://matiasandina.netlify.app/posts/2024-01-12-recoding-america/},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-andina2024" class="csl-entry quarto-appendix-citeas">
Andina, Matias. 2024. <span>“Recoding America.”</span> January 12, 2024.
<a href="https://matiasandina.netlify.app/posts/2024-01-12-recoding-america/">https://matiasandina.netlify.app/posts/2024-01-12-recoding-america/</a>.
</div></div></section></div> ]]></description>
  <category>learning</category>
  <category>policy</category>
  <category>books</category>
  <guid>https://matiasandina.netlify.app/posts/2024-01-12-recoding-america/</guid>
  <pubDate>Fri, 12 Jan 2024 00:00:00 GMT</pubDate>
  <media:content url="https://matiasandina.netlify.app/posts/2024-01-12-recoding-america/justice_scales.png" medium="image" type="image/png"/>
</item>
<item>
  <title>Original Text</title>
  <dc:creator>Matias Andina</dc:creator>
  <link>https://matiasandina.netlify.app/posts/2023-11-07-original-text/</link>
  <description><![CDATA[ 





<p>I have been lately noticing a glaring trend in some of the non-fiction books that I read: the use and abuse of verbatim quotes. They come in the shape of:</p>
<blockquote class="blockquote">
<p>“As such and such said: INSERT LONG VERBATIM TEXT HERE”</p>
</blockquote>
<p>Of course, there are no rules regarding the use of verbatim text<sup>1</sup>. But, if I can get a sense of overuse only from reading the book, it makes me curious to go get look at the data.</p>
<p>How much of the book is actually a verbatim text dump? Would I bet is 10%? Maybe 20%? Would lower percentages make me go easier on the author or is this a lost cause (i.e., if I notice the overuse by reading, all hope is lost)?</p>
<section id="example-book" class="level2">
<h2 class="anchored" data-anchor-id="example-book">Example Book</h2>
<p>Enough of chatter. Let’s try to answer this by analyzing one of the books in question: “Do Nothing” by Celeste Headlee. Reading the book in R using the <code>epubr</code> package gives us this table:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># read the epub</span></span>
<span id="cb1-2">book_text <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> epubr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">epub</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Do Nothing - Celeste Headlee.epub"</span>)</span>
<span id="cb1-3">book_text<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>data[[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb1-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">text =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_sub</span>(text, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span>),</span>
<span id="cb1-5">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">text =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste</span>(text, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"..."</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb1-6">  gt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gt</span>() <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># needs to get the text stings truncated</span></span></code></pre></div>
</details>
<div class="cell-output-display">
<div id="mderspzntz" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#mderspzntz table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#mderspzntz thead, #mderspzntz tbody, #mderspzntz tfoot, #mderspzntz tr, #mderspzntz td, #mderspzntz th {
  border-style: none;
}

#mderspzntz p {
  margin: 0;
  padding: 0;
}

#mderspzntz .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#mderspzntz .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#mderspzntz .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#mderspzntz .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#mderspzntz .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#mderspzntz .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mderspzntz .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#mderspzntz .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#mderspzntz .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#mderspzntz .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#mderspzntz .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#mderspzntz .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#mderspzntz .gt_spanner_row {
  border-bottom-style: hidden;
}

#mderspzntz .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#mderspzntz .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#mderspzntz .gt_from_md > :first-child {
  margin-top: 0;
}

#mderspzntz .gt_from_md > :last-child {
  margin-bottom: 0;
}

#mderspzntz .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#mderspzntz .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#mderspzntz .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#mderspzntz .gt_row_group_first td {
  border-top-width: 2px;
}

#mderspzntz .gt_row_group_first th {
  border-top-width: 2px;
}

#mderspzntz .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#mderspzntz .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#mderspzntz .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#mderspzntz .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mderspzntz .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#mderspzntz .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#mderspzntz .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#mderspzntz .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#mderspzntz .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mderspzntz .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#mderspzntz .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#mderspzntz .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#mderspzntz .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#mderspzntz .gt_left {
  text-align: left;
}

#mderspzntz .gt_center {
  text-align: center;
}

#mderspzntz .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#mderspzntz .gt_font_normal {
  font-weight: normal;
}

#mderspzntz .gt_font_bold {
  font-weight: bold;
}

#mderspzntz .gt_font_italic {
  font-style: italic;
}

#mderspzntz .gt_super {
  font-size: 65%;
}

#mderspzntz .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#mderspzntz .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#mderspzntz .gt_indent_1 {
  text-indent: 5px;
}

#mderspzntz .gt_indent_2 {
  text-indent: 10px;
}

#mderspzntz .gt_indent_3 {
  text-indent: 15px;
}

#mderspzntz .gt_indent_4 {
  text-indent: 20px;
}

#mderspzntz .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_col_headings header">
<th id="section" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">section</th>
<th id="text" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">text</th>
<th id="nword" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">nword</th>
<th id="nchar" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">nchar</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="section">titlepage</td>
<td class="gt_row gt_left" headers="text">...</td>
<td class="gt_row gt_right" headers="nword">0</td>
<td class="gt_row gt_right" headers="nchar">0</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="section">part0001.xhtml</td>
<td class="gt_row gt_left" headers="text">...</td>
<td class="gt_row gt_right" headers="nword">0</td>
<td class="gt_row gt_right" headers="nchar">0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="section">part0002.xhtml</td>
<td class="gt_row gt_left" headers="text">...</td>
<td class="gt_row gt_right" headers="nword">0</td>
<td class="gt_row gt_right" headers="nchar">0</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="section">part0003.xhtml</td>
<td class="gt_row gt_left" headers="text">Copyright © 2020 by ...</td>
<td class="gt_row gt_right" headers="nword">111</td>
<td class="gt_row gt_right" headers="nchar">1014</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="section">part0004.xhtml</td>
<td class="gt_row gt_left" headers="text">CONTENTSCoverTitle P ...</td>
<td class="gt_row gt_right" headers="nword">93</td>
<td class="gt_row gt_right" headers="nchar">685</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="section">part0005.xhtml</td>
<td class="gt_row gt_left" headers="text">INTRODUCTIONIt will ...</td>
<td class="gt_row gt_right" headers="nword">3242</td>
<td class="gt_row gt_right" headers="nchar">18783</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="section">part0006.xhtml</td>
<td class="gt_row gt_left" headers="text">PART IThe Cult of Ef ...</td>
<td class="gt_row gt_right" headers="nword">5</td>
<td class="gt_row gt_right" headers="nchar">28</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="section">part0007.xhtml</td>
<td class="gt_row gt_left" headers="text">Chapter 1MIND THE GA ...</td>
<td class="gt_row gt_right" headers="nword">3270</td>
<td class="gt_row gt_right" headers="nchar">18268</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="section">part0008.xhtml</td>
<td class="gt_row gt_left" headers="text">Chapter 2IT STARTS W ...</td>
<td class="gt_row gt_right" headers="nword">4880</td>
<td class="gt_row gt_right" headers="nchar">28878</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="section">part0009.xhtml</td>
<td class="gt_row gt_left" headers="text">Chapter 3WORK ETHICI ...</td>
<td class="gt_row gt_right" headers="nword">3812</td>
<td class="gt_row gt_right" headers="nchar">22815</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="section">part0010.xhtml</td>
<td class="gt_row gt_left" headers="text">Chapter 4TIME BECOME ...</td>
<td class="gt_row gt_right" headers="nword">8804</td>
<td class="gt_row gt_right" headers="nchar">52065</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="section">part0011.xhtml</td>
<td class="gt_row gt_left" headers="text">Chapter 5WORK COMES ...</td>
<td class="gt_row gt_right" headers="nword">4271</td>
<td class="gt_row gt_right" headers="nchar">25298</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="section">part0012.xhtml</td>
<td class="gt_row gt_left" headers="text">Chapter 6THE BUSIEST ...</td>
<td class="gt_row gt_right" headers="nword">4773</td>
<td class="gt_row gt_right" headers="nchar">28006</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="section">part0013.xhtml</td>
<td class="gt_row gt_left" headers="text">Chapter 7DO WE LIVE ...</td>
<td class="gt_row gt_right" headers="nword">5022</td>
<td class="gt_row gt_right" headers="nchar">28949</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="section">part0014.xhtml</td>
<td class="gt_row gt_left" headers="text">Chapter 8UNIVERSAL H ...</td>
<td class="gt_row gt_right" headers="nword">5930</td>
<td class="gt_row gt_right" headers="nchar">35332</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="section">part0015.xhtml</td>
<td class="gt_row gt_left" headers="text">Chapter 9IS TECH TO ...</td>
<td class="gt_row gt_right" headers="nword">6036</td>
<td class="gt_row gt_right" headers="nchar">35402</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="section">part0016.xhtml</td>
<td class="gt_row gt_left" headers="text">PART IILeaving the C ...</td>
<td class="gt_row gt_right" headers="nword">12</td>
<td class="gt_row gt_right" headers="nchar">61</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="section">part0017.xhtml</td>
<td class="gt_row gt_left" headers="text">Life-Back OneCHALLEN ...</td>
<td class="gt_row gt_right" headers="nword">2345</td>
<td class="gt_row gt_right" headers="nchar">13558</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="section">part0018.xhtml</td>
<td class="gt_row gt_left" headers="text">Life-Back TwoTAKE TH ...</td>
<td class="gt_row gt_right" headers="nword">2570</td>
<td class="gt_row gt_right" headers="nchar">15330</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="section">part0019.xhtml</td>
<td class="gt_row gt_left" headers="text">Life-Back ThreeSTEP ...</td>
<td class="gt_row gt_right" headers="nword">3933</td>
<td class="gt_row gt_right" headers="nchar">22790</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="section">part0020.xhtml</td>
<td class="gt_row gt_left" headers="text">Life-Back FourINVEST ...</td>
<td class="gt_row gt_right" headers="nword">1925</td>
<td class="gt_row gt_right" headers="nchar">10856</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="section">part0021.xhtml</td>
<td class="gt_row gt_left" headers="text">Life-Back FiveMAKE R ...</td>
<td class="gt_row gt_right" headers="nword">2857</td>
<td class="gt_row gt_right" headers="nchar">16804</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="section">part0022.xhtml</td>
<td class="gt_row gt_left" headers="text">Life-Back SixTAKE TH ...</td>
<td class="gt_row gt_right" headers="nword">2161</td>
<td class="gt_row gt_right" headers="nchar">12337</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="section">part0023.xhtml</td>
<td class="gt_row gt_left" headers="text">CONCLUSIONWe have ch ...</td>
<td class="gt_row gt_right" headers="nword">2084</td>
<td class="gt_row gt_right" headers="nchar">12378</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="section">part0024.xhtml</td>
<td class="gt_row gt_left" headers="text">For Theresa, who has ...</td>
<td class="gt_row gt_right" headers="nword">14</td>
<td class="gt_row gt_right" headers="nchar">72</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="section">part0025.xhtml</td>
<td class="gt_row gt_left" headers="text">ACKNOWLEDGMENTSI WOR ...</td>
<td class="gt_row gt_right" headers="nword">355</td>
<td class="gt_row gt_right" headers="nchar">1995</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="section">part0026.xhtml</td>
<td class="gt_row gt_left" headers="text">NOTESIntroduction"Ou ...</td>
<td class="gt_row gt_right" headers="nword">4067</td>
<td class="gt_row gt_right" headers="nchar">28683</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="section">part0027.xhtml</td>
<td class="gt_row gt_left" headers="text">ABOUT THE AUTHORCELE ...</td>
<td class="gt_row gt_right" headers="nword">318</td>
<td class="gt_row gt_right" headers="nchar">1971</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="section">part0028.xhtml</td>
<td class="gt_row gt_left" headers="text">What's next onyour r ...</td>
<td class="gt_row gt_right" headers="nword">19</td>
<td class="gt_row gt_right" headers="nchar">139</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>We can get rid of the legal stuff that normally goes before the text and everything that comes after the content (i.e., acknowledgements and references).</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># A simple slice operation would do</span></span>
<span id="cb2-2">book_txt <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> book_text<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>data[[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb2-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">slice</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">24</span>)</span></code></pre></div>
</details>
</div>
<p>We can also get some metadata from the text (will come useful for later).<br>
</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># bind previous word and character counts</span></span>
<span id="cb3-2">meta <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> book_txt <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb3-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(section, nword, nchar) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb3-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">part =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"part"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">23</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb3-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>section)</span></code></pre></div>
</details>
</div>
<p>Now that we have the text, we can find all the instances of <code>"something in between these quotes here"</code> using <code>stringr::str_locate_all():</code></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># extract the text</span></span>
<span id="cb4-2">match_df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> stringr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_locate_all</span>(book_txt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>text, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'"(.*?)"'</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb4-3">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># give names for future binding</span></span>
<span id="cb4-4">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># parts go from 5 to 23 (idx goes 6:24)</span></span>
<span id="cb4-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">set_names</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">nm =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"part"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">23</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb4-6">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># convert into tibble for easy binding</span></span>
<span id="cb4-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">map</span>(as_tibble) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb4-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">bind_rows</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.id =</span>  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"part"</span>)</span></code></pre></div>
</details>
</div>
<p>Below, I’m showing a slice with an example of matched character positions and how they would look like in the text. I want to direct your attention to the second and third row. I hope you notice that these two quotes are, in fact, one single quote that was split into two.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># This is an example</span></span>
<span id="cb5-2">match_df <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb5-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">slice</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb5-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">quote =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">map2_chr</span>(</span>
<span id="cb5-5">    start, end,  </span>
<span id="cb5-6">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(.x, .y) <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_sub</span>(book_txt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>text[[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]], .x, .y)</span>
<span id="cb5-7">  )) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb5-8">  gt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gt</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb5-9">  gt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tab_style</span>(</span>
<span id="cb5-10">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">style =</span> gt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cell_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">weight =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"bold"</span>),</span>
<span id="cb5-11">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">locations =</span> gt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cells_column_labels</span>()</span>
<span id="cb5-12">        )</span></code></pre></div>
</details>
<div class="cell-output-display">
<div id="wgroahpbhl" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#wgroahpbhl table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#wgroahpbhl thead, #wgroahpbhl tbody, #wgroahpbhl tfoot, #wgroahpbhl tr, #wgroahpbhl td, #wgroahpbhl th {
  border-style: none;
}

#wgroahpbhl p {
  margin: 0;
  padding: 0;
}

#wgroahpbhl .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#wgroahpbhl .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#wgroahpbhl .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#wgroahpbhl .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#wgroahpbhl .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#wgroahpbhl .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#wgroahpbhl .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#wgroahpbhl .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#wgroahpbhl .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#wgroahpbhl .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#wgroahpbhl .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#wgroahpbhl .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#wgroahpbhl .gt_spanner_row {
  border-bottom-style: hidden;
}

#wgroahpbhl .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#wgroahpbhl .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#wgroahpbhl .gt_from_md > :first-child {
  margin-top: 0;
}

#wgroahpbhl .gt_from_md > :last-child {
  margin-bottom: 0;
}

#wgroahpbhl .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#wgroahpbhl .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#wgroahpbhl .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#wgroahpbhl .gt_row_group_first td {
  border-top-width: 2px;
}

#wgroahpbhl .gt_row_group_first th {
  border-top-width: 2px;
}

#wgroahpbhl .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#wgroahpbhl .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#wgroahpbhl .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#wgroahpbhl .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#wgroahpbhl .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#wgroahpbhl .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#wgroahpbhl .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#wgroahpbhl .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#wgroahpbhl .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#wgroahpbhl .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#wgroahpbhl .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#wgroahpbhl .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#wgroahpbhl .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#wgroahpbhl .gt_left {
  text-align: left;
}

#wgroahpbhl .gt_center {
  text-align: center;
}

#wgroahpbhl .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#wgroahpbhl .gt_font_normal {
  font-weight: normal;
}

#wgroahpbhl .gt_font_bold {
  font-weight: bold;
}

#wgroahpbhl .gt_font_italic {
  font-style: italic;
}

#wgroahpbhl .gt_super {
  font-size: 65%;
}

#wgroahpbhl .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#wgroahpbhl .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#wgroahpbhl .gt_indent_1 {
  text-indent: 5px;
}

#wgroahpbhl .gt_indent_2 {
  text-indent: 10px;
}

#wgroahpbhl .gt_indent_3 {
  text-indent: 15px;
}

#wgroahpbhl .gt_indent_4 {
  text-indent: 20px;
}

#wgroahpbhl .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_col_headings header">
<th id="part" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="font-weight: bold" scope="col">part</th>
<th id="start" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="font-weight: bold" scope="col">start</th>
<th id="end" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="font-weight: bold" scope="col">end</th>
<th id="quote" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="font-weight: bold" scope="col">quote</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="part">part5</td>
<td class="gt_row gt_right" headers="start">14893</td>
<td class="gt_row gt_right" headers="end">14905</td>
<td class="gt_row gt_left" headers="quote">"inefficient"</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="part">part5</td>
<td class="gt_row gt_right" headers="start">16002</td>
<td class="gt_row gt_right" headers="end">16132</td>
<td class="gt_row gt_left" headers="quote">"I can hunch over my computer screen for half the day churning frenetically through emails without getting much of substance done,"</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="part">part5</td>
<td class="gt_row gt_right" headers="start">16186</td>
<td class="gt_row gt_right" headers="end">16336</td>
<td class="gt_row gt_left" headers="quote">"all the while telling myself what a loser I am, and leave at 6:00 p.m. feeling like I put in a full day. And given my level of mental fatigue, I did!"</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<section id="merging-quotes" class="level3">
<h3 class="anchored" data-anchor-id="merging-quotes">Merging Quotes</h3>
<p>The issue of quotes being split arises not because of a bug in code, but because the author writes in this way. She would do something like:</p>
<blockquote class="blockquote">
<p>“A palm tree”, somebody said, “belongs to the Plant Kingdom.”</p>
</blockquote>
<p>These stylistic choices will modify the statistics for the direct quotes (e.g., the average length of a quote will be much lesser than if these quotes were kept verbatim). I decided that I want to merge quotes if they are too close to each other (I will try 100 characters<sup>2</sup>). This will slightly inflate my % counts, since I’m attributing characters that are not direct quotes to actual quotes. Thus, when I calculate percentages, I will do so without merging (see <span class="citation" data-cites="percentages-with-no-merging">@percentages-with-no-merging</span>).</p>
<p>There’s one neat trick using <code>lag</code> and <code>cumsum</code> with a condition to achieve conditional grouping. We can see that rows 9 and 10 are marked as belonging to the same group now 🎉.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1">threshold <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Define your threshold</span></span>
<span id="cb6-2"></span>
<span id="cb6-3">merged_quotes <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> match_df <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb6-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(</span>
<span id="cb6-5">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.by =</span> part, </span>
<span id="cb6-6">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">prev_end =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lag</span>(end),</span>
<span id="cb6-7">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">distance =</span> start <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> prev_end,</span>
<span id="cb6-8">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">merge_group =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cumsum</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(distance) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> distance <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> threshold, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>))</span>
<span id="cb6-9">  ) </span>
<span id="cb6-10"></span>
<span id="cb6-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># </span></span>
<span id="cb6-12"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(merged_quotes, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">n =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>)</span></code></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 6
   part  start   end prev_end distance merge_group
   &lt;chr&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;    &lt;int&gt;       &lt;dbl&gt;
 1 part5   574   597       NA       NA           1
 2 part5  1342  1361      597      745           2
 3 part5  1876  1904     1361      515           3
 4 part5  6036  6051     1904     4132           4
 5 part5  8751  8944     6051     2700           5
 6 part5  9276  9373     8944      332           6
 7 part5 13258 13265     9373     3885           7
 8 part5 14893 14905    13265     1628           8
 9 part5 16002 16132    14905     1097           9
10 part5 16186 16336    16132       54           9</code></pre>
</div>
</div>
<p>This intermediate step also gives us the answer to a new question:</p>
<blockquote class="blockquote">
<p>What is the average distance between quotes?</p>
</blockquote>
<p>The answer is x̄= 740 ± sd = 970 . On average, you start a new qoute after 130 words of original content. Is that a lot? Is that too little?</p>
<p>To be honest, it feels true to the reading experience. My sensation was that the author was using the verbatim quotes with high frequency, and the data seems to align with that. But don’t take my word for it, let’s try to visualize it.</p>
<p>We are two steps away from the viz.</p>
<ol type="1">
<li>Do the actual merge</li>
<li>Add the end of each chapter</li>
</ol>
<p>We can do <code>Step 1</code> using the code below:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1">merged_quotes <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> merged_quotes <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb8-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarize</span>(</span>
<span id="cb8-3">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.by =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(merge_group, part),</span>
<span id="cb8-4">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">part =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">first</span>(part),</span>
<span id="cb8-5">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">start =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">first</span>(start),</span>
<span id="cb8-6">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">end =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">last</span>(end)</span>
<span id="cb8-7">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb8-8">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># add the lag again to see where the original text starts</span></span>
<span id="cb8-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">text_start =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lag</span>(end, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">default =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.by =</span> part)</span></code></pre></div>
</details>
</div>
<p>Right now, we have the start of the original text in <code>text_start</code> and the <code>start</code> and <code>end</code> of each verbatim quote. We need to make use of the metadata stored in <code>meta</code> to add the end of the original content for of each chapter. This only matters for the very last portion that we are going to plot, so I will make a new data set that contains those values instead of merging everything together. To visualize it, I’m going to make use of a package I developed called <code>ggethos</code>. You can check it out <a href="https://matiasandina.github.io/ggethos/">here</a> or adapt the code to work with <code>geom_segment()</code>.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># pad parts  for plotting</span></span>
<span id="cb9-2">format_part <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(part_name) {</span>
<span id="cb9-3">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Extract the numeric part</span></span>
<span id="cb9-4">  part_number <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.integer</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_extract</span>(part_name, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\\</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">d+"</span>))</span>
<span id="cb9-5"></span>
<span id="cb9-6">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Pad the number with zeros and prepend 'part'</span></span>
<span id="cb9-7">  formatted_part <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"part"</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_pad</span>(part_number, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">width =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pad =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"0"</span>))</span>
<span id="cb9-8">  </span>
<span id="cb9-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">return</span>(formatted_part)</span>
<span id="cb9-10">}</span>
<span id="cb9-11"></span>
<span id="cb9-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># make tail end segments</span></span>
<span id="cb9-13">tail_data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> merged_quotes <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb9-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarise</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.by =</span> part, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">last_quote_end =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">max</span>(end)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb9-15">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">left_join</span>(meta, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'part'</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb9-16">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># fix the padding after merging</span></span>
<span id="cb9-17">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">part =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">format_part</span>(part))</span>
<span id="cb9-18"></span>
<span id="cb9-19"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># fix the padding here too</span></span>
<span id="cb9-20">merged_quotes <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> merged_quotes  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">part =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">format_part</span>(part))</span>
<span id="cb9-21"></span>
<span id="cb9-22"></span>
<span id="cb9-23"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data=</span>merged_quotes) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb9-24">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_ethogram</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span>text_start, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xend=</span>start, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> part), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gray30"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-25">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_ethogram</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data=</span>tail_data, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span>last_quote_end, </span>
<span id="cb9-26">                                    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xend=</span>nchar, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> part), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gray30"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-27">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_ethogram</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span>start, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xend=</span>end, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> part), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"red"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-28">  cowplot<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_nothing</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-29">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"'Do Nothing' is Peppered by Quotes"</span>,</span>
<span id="cb9-30">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">subtitle =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;span style = 'color:gray30'&gt;Original Text&lt;/span&gt; and &lt;span style = 'color:red'&gt;Verbatim quotes&lt;/span&gt;"</span>,</span>
<span id="cb9-31">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">caption =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Viz: Matias Andina"</span>,</span>
<span id="cb9-32">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Chapter"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-33">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(</span>
<span id="cb9-34">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot.title =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hjust =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>),</span>
<span id="cb9-35">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot.subtitle =</span> ggtext<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_markdown</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hjust =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>),</span>
<span id="cb9-36">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"black"</span>),</span>
<span id="cb9-37">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">text =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'gray80'</span>),</span>
<span id="cb9-38">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.title.y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">angle =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">90</span>),</span>
<span id="cb9-39">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot.caption =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hjust =</span> .<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">95</span>))</span></code></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2023-11-07-original-text/index_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>I believe this plot conveys a good mental image of what reading the book feels like in terms of verbatim text usage.</p>
</section>
<section id="percentages-with-no-merges" class="level3">
<h3 class="anchored" data-anchor-id="percentages-with-no-merges">Percentages with no merges</h3>
<p>As mentioned in the beginning of the article, I was curious about <em>how much</em> verbatim text there was. Again, using the number of characters in each chapter stored in the <code>meta</code> object, we can easily calculate the percentage of all characters that are directly quoted:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1">match_df <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb10-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">quote_chars =</span> end <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> start) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb10-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarise</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.by =</span> part, </span>
<span id="cb10-4">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">quote_chars =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(quote_chars)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb10-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">left_join</span>(meta, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"part"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb10-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">quote_frac =</span> quote_chars <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> nchar,</span>
<span id="cb10-7">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">part =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fct_reorder</span>(part, quote_frac)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb10-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_hline</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">yintercept =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(quote_frac)), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">lty =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_point</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(part), quote_frac), </span>
<span id="cb10-11">             <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"darkred"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_label</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">15.5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.17</span>,</span>
<span id="cb10-13">                 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste</span>(part[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">which.max</span>(quote_frac)],</span>
<span id="cb10-14">                               scales<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">percent</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">max</span>(quote_frac)),</span>
<span id="cb10-15">                               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sep=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span>
<span id="cb10-16">                 ))) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-17">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels =</span> scales<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">label_percent</span>(),</span>
<span id="cb10-18">                     <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">expand =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">expansion</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">add =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.01</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.05</span>)))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-19">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Verbatim Quotes"</span>,</span>
<span id="cb10-20">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Book Part</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">(ascending quote % order)"</span>,</span>
<span id="cb10-21">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"'Do Nothing' contains ~10% verbatim quoted text"</span>,</span>
<span id="cb10-22">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">subtitle =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Some parts are as high as 17%!"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-23">  cowplot<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_minimal_hgrid</span>()</span></code></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2023-11-07-original-text/index_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="a-silver-lining" class="level2">
<h2 class="anchored" data-anchor-id="a-silver-lining">A silver lining</h2>
<p>Most non-fiction books are a regurgitation of something somebody else said a long time ago (there’s nothing new under the sun). In a sense then, it’s more truthful for an author to quote verbatim from the original source than to paraphrase whatever they took out of it and hide the initial message under a footnote<sup>3</sup>.</p>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>But I’m sure a copyright lawyer would know much more than I do regarding how much verbatim text you can include and still claim ownership of your work.↩︎</p></li>
<li id="fn2"><p>Of course, this threshold is arbitrary. How did I come up with it? I asked ChatGPT to come up with 10 interjections that were a bit longer than “they said” and phrases where sitting comfortably around 50. I doubled it to be super sure that we were not missing instances.↩︎</p></li>
<li id="fn3"><p>This paragraph was indeed a paraphrase of my editor’s (read wife’s) reaction to my article. Talking to her is a great exercise in positive reframing.↩︎</p></li>
</ol>
</section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{andina2023,
  author = {Andina, Matias},
  title = {Original {Text}},
  date = {2023-11-07},
  url = {https://matiasandina.netlify.app/posts/2023-11-07-original-text/},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-andina2023" class="csl-entry quarto-appendix-citeas">
Andina, Matias. 2023. <span>“Original Text.”</span> November 7, 2023. <a href="https://matiasandina.netlify.app/posts/2023-11-07-original-text/">https://matiasandina.netlify.app/posts/2023-11-07-original-text/</a>.
</div></div></section></div> ]]></description>
  <category>R</category>
  <guid>https://matiasandina.netlify.app/posts/2023-11-07-original-text/</guid>
  <pubDate>Tue, 07 Nov 2023 00:00:00 GMT</pubDate>
</item>
<item>
  <title>The Power to Normalize</title>
  <dc:creator>Matias Andina</dc:creator>
  <link>https://matiasandina.netlify.app/posts/2023-08-19-the-power-to-normalize/</link>
  <description><![CDATA[ 





<p>I started participating in the <a href="https://github.com/rfordatascience/tidytuesday">Tidytuesday project</a> to practice my visualization skills, while using datasets that come from sources that I’m not used to. In addition, I enjoy checking what <em>other</em> people do with the same dataset. I find that others are way more creative than I am, and I borrow heavily!</p>
<p>The challenge for Week 33 of 2023 was to perform viz on the <code>spam</code> dataset.</p>
<section id="when-pca-fails" class="level2">
<h2 class="anchored" data-anchor-id="when-pca-fails">When PCA fails</h2>
<p>The <code>spam</code> dataset presents heavily skewed distributions for variables that serve as predictors of spam email. Because it was a dataset with 6 numeric variables and a single binary predictor, my initial idea was to perform a quick and dirty PCA.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyverse, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">warn.conflicts =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidytuesdayR)</span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(paletteer)</span>
<span id="cb1-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(FactoMineR)</span>
<span id="cb1-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(factoextra)</span>
<span id="cb1-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(scales, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">warn.conflicts =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>)</span>
<span id="cb1-7"></span>
<span id="cb1-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># load the data</span></span>
<span id="cb1-9">spam <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tt_load</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2023</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">week=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">33</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>spam</span></code></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
    Downloading file 1 of 1: `spam.csv`</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1">spam<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>yesno <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> dplyr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">if_else</span>(spam<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>yesno <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"y"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"spam"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"email"</span>)</span>
<span id="cb3-2">pc <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">prcomp</span>(spam[, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">center =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scale. =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span>
<span id="cb3-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># make it a tibble for ggplot plotting</span></span>
<span id="cb3-4">pc_data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> pc<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>x[, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as_tibble</span>()</span>
<span id="cb3-5">pc_data<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>yesno <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> spam<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>yesno</span>
<span id="cb3-6"></span>
<span id="cb3-7">pc_ori_plot <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(pc_data, </span>
<span id="cb3-8">       <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(PC1, PC2, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> yesno)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_point</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coord_equal</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_color_paletteer_d</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"awtools::a_palette"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-12">  ggthemes<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_base</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"bottom"</span>,</span>
<span id="cb3-14">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot.background =</span>  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span>),</span>
<span id="cb3-15">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gray90"</span>),</span>
<span id="cb3-16">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.key =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gray90"</span>),</span>
<span id="cb3-17">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#81AE5C"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-18">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>())</span>
<span id="cb3-19">pc_ori_plot</span></code></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2023-08-19-the-power-to-normalize/index_files/figure-html/setup-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>If you are inclined to do so, you can check that <code>fviz_screeplot(pc)</code> gives you a horrible scree plot with very little variance explained and use <code>fviz_pca_contrib(pc, choice = 'var')</code> to check that the contributions of the different variables are also close to random.</p>
</section>
<section id="skewed-data-distributions" class="level2">
<h2 class="anchored" data-anchor-id="skewed-data-distributions">Skewed Data Distributions</h2>
<p>The vanilla PCA does nothing to help us visualize a separation between the. Why is that the case?</p>
<p>Upon a closer inspection of the regular variables, which I should have done before diving into the PCA, we see that we are dealing with heavily skewed distributions</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1">spam <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb4-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_longer</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>yesno) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb4-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(yesno, value, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> yesno)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_violin</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>name, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scales =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"free"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">nrow=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">label_number</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scale_cut =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cut_short_scale</span>()))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_fill_paletteer_d</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"awtools::a_palette"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-8">  ggthemes<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_base</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"bottom"</span>,</span>
<span id="cb4-10">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot.background =</span>  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span>),</span>
<span id="cb4-11">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gray90"</span>),</span>
<span id="cb4-12">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.key =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gray90"</span>),</span>
<span id="cb4-13">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#81AE5C"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>())</span></code></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2023-08-19-the-power-to-normalize/index_files/figure-html/skewed-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The distributions are so skewed we can barely see them.</p>
</section>
<section id="transform" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="transform">Transform</h2>
<p>Enter the <a href="https://en.wikipedia.org/wiki/Power_transform#Yeo%E2%80%93Johnson_transformation">Yeo–Johnson transformation</a>, a type of Power Transform<sup>1</sup> that will come handy to normalize the data.</p>
<div class="page-columns page-full"><p></p><div class="no-row-height column-margin column-container"><span class="margin-aside">As a side note, I had a bit of trouble running this using the more conventional <code>caret</code> or <code>recipes</code> packages, you can read my StackOverflow question <a href="https://stackoverflow.com/questions/76925607/understanding-yeojohnson-transformation-in-r/76933102#76933102">here</a> and the nice answer about estimating parameters properly. For this post, I will be using <code>bestNormalize::yeojohnson</code> to normalize all columns in the dataset.</span></div></div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># quickly apply transformation to the data itself</span></span>
<span id="cb5-2">df_transformed <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(spam, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">where</span>(is.numeric)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb5-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate_all</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.funs =</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(x) <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">predict</span>(bestNormalize<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">yeojohnson</span>(x), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">newdata =</span> x))</span>
<span id="cb5-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># check the new distributions</span></span>
<span id="cb5-5">df_transformed<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>yesno <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> spam<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>yesno</span>
<span id="cb5-6">df_transformed <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb5-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_longer</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>yesno) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb5-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(yesno, value, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> yesno)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_violin</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>name, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scales =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"free"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">nrow=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">label_number</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scale_cut =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cut_short_scale</span>()))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_fill_paletteer_d</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"awtools::a_palette"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-13">  ggthemes<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_base</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"bottom"</span>,</span>
<span id="cb5-15">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot.background =</span>  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span>),</span>
<span id="cb5-16">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gray90"</span>),</span>
<span id="cb5-17">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.key =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gray90"</span>),</span>
<span id="cb5-18">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#81AE5C"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-19">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>())</span></code></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2023-08-19-the-power-to-normalize/index_files/figure-html/violin-transformed-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>I am not a huge fan of data transformations, but that is a very nice transformation. We often deal with skewed data, which produces difficulties when visualizing and performing data analysis. Having a tool like this power transform comes really handy<sup>2</sup>.</p>
</section>
<section id="second-pca" class="level2">
<h2 class="anchored" data-anchor-id="second-pca">Second PCA</h2>
<p>We can now check how the second PCA looks like. It’s not a panacea, but we have made large improvements. Check the side by side comparisons:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1">pc <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">prcomp</span>(df_transformed[, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>])</span>
<span id="cb6-2">pc_data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> pc<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>x[, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as_tibble</span>()</span>
<span id="cb6-3">pc_data<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>yesno <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> spam<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>yesno</span>
<span id="cb6-4"></span>
<span id="cb6-5">pc_second_plot <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(pc_data, </span>
<span id="cb6-6">       <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(PC1, PC2, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> yesno)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_point</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coord_equal</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_color_paletteer_d</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"awtools::a_palette"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-10">  ggthemes<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_base</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"bottom"</span>,</span>
<span id="cb6-12">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot.background =</span>  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span>),</span>
<span id="cb6-13">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gray90"</span>),</span>
<span id="cb6-14">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.key =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gray90"</span>),</span>
<span id="cb6-15">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#81AE5C"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-16">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>())</span>
<span id="cb6-17"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(patchwork)</span>
<span id="cb6-18">pc_ori_plot <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> pc_second_plot</span></code></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2023-08-19-the-power-to-normalize/index_files/figure-html/second-pca-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>In terms of separating data, the second PCA is not the best PCA in the world. We can still see that there is a bunch of points all clustered together:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1">p1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(pc_data, </span>
<span id="cb7-2">       <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(PC1, PC2, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> yesno)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_point</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'gray50'</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>)  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb7-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"All Data"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb7-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coord_equal</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-6">  ggthemes<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_few</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">base_family =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Ubuntu"</span>)</span>
<span id="cb7-7">spam_color <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> paletteer<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paletteer_d</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"awtools::a_palette"</span>)[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>]</span>
<span id="cb7-8">email_color <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> paletteer<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paletteer_d</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"awtools::a_palette"</span>)[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]</span>
<span id="cb7-9">p2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(pc_data, </span>
<span id="cb7-10">       <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(PC1, PC2, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> yesno)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_point</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'gray50'</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>)  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb7-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_point</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(pc_data, yesno<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"spam"</span>),</span>
<span id="cb7-13">             <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> spam_color, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>)  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb7-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Spam"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb7-15">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coord_equal</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-16">  ggthemes<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_few</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">base_family =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Ubuntu"</span>)</span>
<span id="cb7-17">p3 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(pc_data, </span>
<span id="cb7-18">       <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(PC1, PC2, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> yesno)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-19">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_point</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'gray50'</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>)  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb7-20">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_point</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(pc_data, yesno<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"email"</span>),</span>
<span id="cb7-21">             <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> email_color, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>)  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb7-22">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Emails"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb7-23">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coord_equal</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-24">  ggthemes<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_few</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">base_family =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Ubuntu"</span>)</span>
<span id="cb7-25">p1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> p2 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> p3</span></code></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2023-08-19-the-power-to-normalize/index_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>However, I encourage you to check <code>fviz_screeplot(pc)</code> to see how dramatically better this second PCA is.</p>
</section>
<section id="ending-remarks" class="level2">
<h2 class="anchored" data-anchor-id="ending-remarks">Ending remarks</h2>
<p>Regardless of the final separation that we could achieve in this particular dataset, the normalization performed using Yeo–Johnson transform was quite powerful. You have been given the Power to Normalize, I hope you try it on your own skewed datasets!</p>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Yes, the title of this post is 100% pun intended.↩︎</p></li>
<li id="fn2"><p>The devil is on the details. Always check the parameters and be careful on data interpretation when transforming your data!↩︎</p></li>
</ol>
</section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{andina2023,
  author = {Andina, Matias},
  title = {The {Power} to {Normalize}},
  date = {2023-08-19},
  url = {https://matiasandina.netlify.app/posts/2023-08-19-the-power-to-normalize/},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-andina2023" class="csl-entry quarto-appendix-citeas">
Andina, Matias. 2023. <span>“The Power to Normalize.”</span> August 19,
2023. <a href="https://matiasandina.netlify.app/posts/2023-08-19-the-power-to-normalize/">https://matiasandina.netlify.app/posts/2023-08-19-the-power-to-normalize/</a>.
</div></div></section></div> ]]></description>
  <category>R</category>
  <category>dataviz</category>
  <guid>https://matiasandina.netlify.app/posts/2023-08-19-the-power-to-normalize/</guid>
  <pubDate>Fri, 18 Aug 2023 23:00:00 GMT</pubDate>
</item>
<item>
  <title>goodreads</title>
  <dc:creator>Matias Andina</dc:creator>
  <link>https://matiasandina.netlify.app/posts/2023-06-10-goodreads/</link>
  <description><![CDATA[ 





<section id="a-challenging-new-year" class="level2">
<h2 class="anchored" data-anchor-id="a-challenging-new-year">A Challenging New Year</h2>
<p>Around early January 2023, an idea came to my mind: the books I read were all written men. My initial guess was 90% male. That’s bad, I know. So I decided to do two things:</p>
<ol type="1">
<li>Check my current ratio</li>
<li>Whatever my current number was, make the effort to read more women authors.</li>
</ol>
<p>As a bonus point, I would get to toy with the data (yay 🙌). If you have no interest in checking the dataviz analysis you can jump right into the gender ratios.</p>
</section>
<section id="fetch-data" class="level2">
<h2 class="anchored" data-anchor-id="fetch-data">Fetch Data</h2>
<p>I use <a href="https://www.goodreads.com/">goodreads</a> to store info about the books I read or those that I am about to read. It turns out that goodreads lets you export your library (go <a href="https://www.goodreads.com/review/import">here</a>).</p>
<section id="disclaimer" class="level3">
<h3 class="anchored" data-anchor-id="disclaimer">Disclaimer</h3>
<p>It’s not the cleanest data:</p>
<ul>
<li>Ranking is in whole point increments from 1 to 5, which somewhat constrains what the average values for books might be[^people-read].</li>
<li>The number of pages might be wrong (some titles have 0 pages)</li>
<li>The year of publishing might obscure the real year of writing (multiple editions obscure this more)</li>
<li>Unfortunately I don’t have good info on the days it took for me to read the book because I enter whatever ‘feels close enough’ by hand.</li>
</ul>
<p>[^people-read]: People tend to read “good books”, so it’s expected that this average is skewed towards higher values, but see my other comments in the analysis.</p>
</section>
</section>
<section id="data-cleaning" class="level2">
<h2 class="anchored" data-anchor-id="data-cleaning">Data Cleaning</h2>
<p>Data comes mostly clean and can be imported into R (or any language of your choice).</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyverse)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_set</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">text =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">16</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">family =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Ubuntu"</span>)))</span>
<span id="cb1-3"></span>
<span id="cb1-4">df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_csv</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"mla_goodreads_library_export.csv"</span>,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">show_col_types =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb1-5">  janitor<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">clean_names</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb1-6">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># remove books I haven't read or rated</span></span>
<span id="cb1-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(my_rating <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)</span>
<span id="cb1-8"></span>
<span id="cb1-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># create subtitle, might not be inclusive but probably pretty good</span></span>
<span id="cb1-10">df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> df <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb1-11">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># make a copy</span></span>
<span id="cb1-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ori_title =</span> title) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb1-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">separate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">col =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"title"</span>,</span>
<span id="cb1-14">           <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">into =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"title"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"subtitle"</span>), </span>
<span id="cb1-15">           <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sep =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">": "</span>)</span></code></pre></div>
</details>
</div>
</section>
<section id="peoples-ratings-are-super-high" class="level2">
<h2 class="anchored" data-anchor-id="peoples-ratings-are-super-high">People’s Ratings are Super High</h2>
<p>The average rating for books is pretty high. Even for those at the very bottom.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1">stars_df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(</span>
<span id="cb2-2">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>), </span>
<span id="cb2-3">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rep</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rep</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rep</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rep</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>)))</span>
<span id="cb2-4">stars_df<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>x <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> stars_df<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>x <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span></span>
<span id="cb2-5"></span>
<span id="cb2-6">label_df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.25</span>,</span>
<span id="cb2-7">                       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> .<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span>,</span>
<span id="cb2-8">                       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"didn't like it"</span> , </span>
<span id="cb2-9">                                 <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"it was OK"</span>, </span>
<span id="cb2-10">                                 <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"liked it"</span>, </span>
<span id="cb2-11">                                 <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"really liked it"</span>, </span>
<span id="cb2-12">                                 <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"it was amazing"</span>))</span>
<span id="cb2-13">                       </span>
<span id="cb2-14">df <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb2-15">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>L, average_rating)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb2-16">  ggbeeswarm<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_quasirandom</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">width=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb2-17">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#xlim(0,2) +</span></span>
<span id="cb2-18">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ylim</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb2-19">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_point</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> stars_df, </span>
<span id="cb2-20">             <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(x, y),</span>
<span id="cb2-21">             <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pch =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"★"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gold"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb2-22">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> label_df, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(x, y, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label=</span>label)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb2-23">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_void</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb2-24">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.grid.major.y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_line</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gray50"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linetype =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>),</span>
<span id="cb2-25">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot.title =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hjust =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>),</span>
<span id="cb2-26">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot.subtitle =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hjust =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb2-27">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"goodgeads readers 'really like' most books"</span>,</span>
<span id="cb2-28">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">subtitle =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Each dot is the average community rating of a book"</span>)</span></code></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2023-06-10-goodreads/index_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>I think there are a few things happening here:</p>
<ol type="1">
<li>People are way more optimistic and less critic than I am (no surprise)</li>
<li>People who really don’t like a book stop reading it early and might not bother rating it <sup>1</sup>. Hence, there’s a sort of ‘survivor bias’ in the data.</li>
<li>People just don’t care about GoodRead’s rating and do their own versions which might have nothing to do with the 5 stars system .</li>
<li>Maybe I just happen to read “mostly good books”, so I would not find any book with very little rating.</li>
</ol>
<p>Just to point out the comparison with my own ratings.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1">df <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb3-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">delta =</span> my_rating <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> average_rating,</span>
<span id="cb3-3">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">id =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fct_reorder</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">n</span>()), delta)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb3-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> delta, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> delta)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">annotate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">geom=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.7</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.5</span>, </span>
<span id="cb3-6">           <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Books I liked</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">more than the</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">average person"</span>,</span>
<span id="cb3-7">           <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"red"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">annotate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">geom=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span>.<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y=</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, </span>
<span id="cb3-9">           <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Books I liked</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">less than the</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">average person"</span>,</span>
<span id="cb3-10">           <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"black"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-11">  ggbeeswarm<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_quasirandom</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb3-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_color_gradient</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">low =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"black"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">high =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"red"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ylim</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">xlim</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-15">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span>, </span>
<span id="cb3-16">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.grid =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),</span>
<span id="cb3-17">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.grid.major.y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_line</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gray90"</span>),</span>
<span id="cb3-18">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),</span>
<span id="cb3-19">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),</span>
<span id="cb3-20">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.line.x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),</span>
<span id="cb3-21">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.text.x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),</span>
<span id="cb3-22">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.ticks.x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>()) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-23">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),</span>
<span id="cb3-24">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Rating Difference"</span>,</span>
<span id="cb3-25">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Differences in Ratings"</span>,</span>
<span id="cb3-26">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">subtitle =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Difference  between my and people's ratings"</span>)</span></code></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2023-06-10-goodreads/index_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="top-and-bottom" class="level2">
<h2 class="anchored" data-anchor-id="top-and-bottom">Top and Bottom</h2>
<p>This analysis couldn’t continue without giving you the gossip of who’s at the top and bottom in my dataset. Mind you, these are the people’s ratings for the books I have read.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1">df <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb4-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">arrange</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">desc</span>(average_rating)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb4-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(title, author, average_rating) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb4-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">slice_head</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">n =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb4-5">  gt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gt</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">caption =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Top 10 books in dataset"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb4-6">  gt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cols_label</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Title"</span>,</span>
<span id="cb4-7">                 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">author =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Author"</span>,</span>
<span id="cb4-8">                 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">average_rating =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Average Rating"</span>)</span></code></pre></div>
</details>
<div class="cell-output-display">
<div id="uivvhklbul" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#uivvhklbul table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#uivvhklbul thead, #uivvhklbul tbody, #uivvhklbul tfoot, #uivvhklbul tr, #uivvhklbul td, #uivvhklbul th {
  border-style: none;
}

#uivvhklbul p {
  margin: 0;
  padding: 0;
}

#uivvhklbul .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#uivvhklbul .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#uivvhklbul .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#uivvhklbul .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#uivvhklbul .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#uivvhklbul .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#uivvhklbul .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#uivvhklbul .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#uivvhklbul .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#uivvhklbul .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#uivvhklbul .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#uivvhklbul .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#uivvhklbul .gt_spanner_row {
  border-bottom-style: hidden;
}

#uivvhklbul .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#uivvhklbul .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#uivvhklbul .gt_from_md > :first-child {
  margin-top: 0;
}

#uivvhklbul .gt_from_md > :last-child {
  margin-bottom: 0;
}

#uivvhklbul .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#uivvhklbul .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#uivvhklbul .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#uivvhklbul .gt_row_group_first td {
  border-top-width: 2px;
}

#uivvhklbul .gt_row_group_first th {
  border-top-width: 2px;
}

#uivvhklbul .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#uivvhklbul .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#uivvhklbul .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#uivvhklbul .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#uivvhklbul .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#uivvhklbul .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#uivvhklbul .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#uivvhklbul .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#uivvhklbul .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#uivvhklbul .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#uivvhklbul .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#uivvhklbul .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#uivvhklbul .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#uivvhklbul .gt_left {
  text-align: left;
}

#uivvhklbul .gt_center {
  text-align: center;
}

#uivvhklbul .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#uivvhklbul .gt_font_normal {
  font-weight: normal;
}

#uivvhklbul .gt_font_bold {
  font-weight: bold;
}

#uivvhklbul .gt_font_italic {
  font-style: italic;
}

#uivvhklbul .gt_super {
  font-size: 65%;
}

#uivvhklbul .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#uivvhklbul .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#uivvhklbul .gt_indent_1 {
  text-indent: 5px;
}

#uivvhklbul .gt_indent_2 {
  text-indent: 10px;
}

#uivvhklbul .gt_indent_3 {
  text-indent: 15px;
}

#uivvhklbul .gt_indent_4 {
  text-indent: 20px;
}

#uivvhklbul .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<caption>Top 10 books in dataset</caption>
<thead>
<tr class="gt_col_headings header">
<th id="Title" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Title</th>
<th id="Author" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Author</th>
<th id="Average Rating" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Average Rating</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="title">I Am Number Four Collection</td>
<td class="gt_row gt_left" headers="author">Pittacus Lore</td>
<td class="gt_row gt_right" headers="average_rating">4.55</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="title">I'm Glad My Mom Died</td>
<td class="gt_row gt_left" headers="author">Jennette McCurdy</td>
<td class="gt_row gt_right" headers="average_rating">4.49</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="title">The Storyteller</td>
<td class="gt_row gt_left" headers="author">Dave Grohl</td>
<td class="gt_row gt_right" headers="average_rating">4.49</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="title">The Price We Pay</td>
<td class="gt_row gt_left" headers="author">Marty Makary</td>
<td class="gt_row gt_right" headers="average_rating">4.48</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="title">The Winners (Beartown, #3)</td>
<td class="gt_row gt_left" headers="author">Fredrik Backman</td>
<td class="gt_row gt_right" headers="average_rating">4.47</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="title">Educated</td>
<td class="gt_row gt_left" headers="author">Tara Westover</td>
<td class="gt_row gt_right" headers="average_rating">4.47</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="title">Story of Your Life</td>
<td class="gt_row gt_left" headers="author">Ted Chiang</td>
<td class="gt_row gt_right" headers="average_rating">4.47</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="title">Harry Potter and the Sorcerer's Stone (Harry Potter, #1)</td>
<td class="gt_row gt_left" headers="author">J.K. Rowling</td>
<td class="gt_row gt_right" headers="average_rating">4.47</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="title">A Civic Technologist's Practice Guide</td>
<td class="gt_row gt_left" headers="author">Cyd Harrell</td>
<td class="gt_row gt_right" headers="average_rating">4.45</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="title">Ali</td>
<td class="gt_row gt_left" headers="author">Jonathan Eig</td>
<td class="gt_row gt_right" headers="average_rating">4.44</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Here’s the bottom of the pile</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1">df <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb5-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">arrange</span>(average_rating) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb5-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(title, author, average_rating) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb5-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">slice_head</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">n =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb5-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">arrange</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">desc</span>(average_rating)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb5-6">  gt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gt</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">caption =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Bottom 10 books in dataset"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb5-7">  gt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cols_label</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Title"</span>,</span>
<span id="cb5-8">                 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">author =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Author"</span>,</span>
<span id="cb5-9">                 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">average_rating =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Average Rating"</span>)</span></code></pre></div>
</details>
<div class="cell-output-display">
<div id="ogpeyalkld" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#ogpeyalkld table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ogpeyalkld thead, #ogpeyalkld tbody, #ogpeyalkld tfoot, #ogpeyalkld tr, #ogpeyalkld td, #ogpeyalkld th {
  border-style: none;
}

#ogpeyalkld p {
  margin: 0;
  padding: 0;
}

#ogpeyalkld .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ogpeyalkld .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ogpeyalkld .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ogpeyalkld .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ogpeyalkld .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ogpeyalkld .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ogpeyalkld .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ogpeyalkld .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ogpeyalkld .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ogpeyalkld .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ogpeyalkld .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ogpeyalkld .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ogpeyalkld .gt_spanner_row {
  border-bottom-style: hidden;
}

#ogpeyalkld .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ogpeyalkld .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ogpeyalkld .gt_from_md > :first-child {
  margin-top: 0;
}

#ogpeyalkld .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ogpeyalkld .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ogpeyalkld .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ogpeyalkld .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ogpeyalkld .gt_row_group_first td {
  border-top-width: 2px;
}

#ogpeyalkld .gt_row_group_first th {
  border-top-width: 2px;
}

#ogpeyalkld .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ogpeyalkld .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ogpeyalkld .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ogpeyalkld .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ogpeyalkld .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ogpeyalkld .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ogpeyalkld .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ogpeyalkld .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ogpeyalkld .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ogpeyalkld .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ogpeyalkld .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ogpeyalkld .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ogpeyalkld .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ogpeyalkld .gt_left {
  text-align: left;
}

#ogpeyalkld .gt_center {
  text-align: center;
}

#ogpeyalkld .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ogpeyalkld .gt_font_normal {
  font-weight: normal;
}

#ogpeyalkld .gt_font_bold {
  font-weight: bold;
}

#ogpeyalkld .gt_font_italic {
  font-style: italic;
}

#ogpeyalkld .gt_super {
  font-size: 65%;
}

#ogpeyalkld .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ogpeyalkld .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ogpeyalkld .gt_indent_1 {
  text-indent: 5px;
}

#ogpeyalkld .gt_indent_2 {
  text-indent: 10px;
}

#ogpeyalkld .gt_indent_3 {
  text-indent: 15px;
}

#ogpeyalkld .gt_indent_4 {
  text-indent: 20px;
}

#ogpeyalkld .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<caption>Bottom 10 books in dataset</caption>
<thead>
<tr class="gt_col_headings header">
<th id="Title" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Title</th>
<th id="Author" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Author</th>
<th id="Average Rating" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Average Rating</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="title">Kurashi at Home</td>
<td class="gt_row gt_left" headers="author">Marie Kondō</td>
<td class="gt_row gt_right" headers="average_rating">3.59</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="title">Randomize</td>
<td class="gt_row gt_left" headers="author">Andy Weir</td>
<td class="gt_row gt_right" headers="average_rating">3.52</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="title">How to Win Every Argument</td>
<td class="gt_row gt_left" headers="author">Madsen Pirie</td>
<td class="gt_row gt_right" headers="average_rating">3.52</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="title">Subtract</td>
<td class="gt_row gt_left" headers="author">Leidy Klotz</td>
<td class="gt_row gt_right" headers="average_rating">3.51</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="title">The Year of Less</td>
<td class="gt_row gt_left" headers="author">Cait Flanders</td>
<td class="gt_row gt_right" headers="average_rating">3.48</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="title">You Have Arrived at Your Destination</td>
<td class="gt_row gt_left" headers="author">Amor Towles</td>
<td class="gt_row gt_right" headers="average_rating">3.48</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="title">Make, Think, Imagine</td>
<td class="gt_row gt_left" headers="author">John Browne</td>
<td class="gt_row gt_right" headers="average_rating">3.48</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="title">Limetown</td>
<td class="gt_row gt_left" headers="author">Cote Smith</td>
<td class="gt_row gt_right" headers="average_rating">3.36</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="title">Hype</td>
<td class="gt_row gt_left" headers="author">Gabrielle Bluestone</td>
<td class="gt_row gt_right" headers="average_rating">3.33</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="title">The Listening Path</td>
<td class="gt_row gt_left" headers="author">Julia Cameron</td>
<td class="gt_row gt_right" headers="average_rating">3.29</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="searching-for-my-type" class="level2">
<h2 class="anchored" data-anchor-id="searching-for-my-type">Searching for my type</h2>
<p>I was curious to see whether there authors that I should be reading more of, so I averaged all my ratings for each author.</p>
<p>Ranked data doesn’t show very nicely when you try to do a simple correlation plot, but we can just check it out.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># How off am I from the average rating for each author?</span></span>
<span id="cb6-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># looks like 3 stars is a breaking point</span></span>
<span id="cb6-3">df <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb6-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(author) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb6-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarise</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">n =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">n</span>(), </span>
<span id="cb6-6">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">my_rating =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(my_rating),</span>
<span id="cb6-7">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">people_rating =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(average_rating)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb6-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(my_rating, people_rating)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_point</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_linedraw</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"My Rating for an Author"</span>,</span>
<span id="cb6-12">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"People's Rating an Author"</span>,</span>
<span id="cb6-13">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Is there more agreement at the author level?"</span>,</span>
<span id="cb6-14">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">subtitle =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"There seems to be a breakpoint at 4"</span>)</span></code></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2023-06-10-goodreads/index_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="as-years-go-by" class="level2">
<h2 class="anchored" data-anchor-id="as-years-go-by">As years go by</h2>
<p>I have been adding info to goodreads for a while now, so I wanted to check things in time. In terms of quality, it seems that 2016 and 2023 were very good reading years. 2020 was quite bad.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1">df <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb7-2">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># for some reason, </span></span>
<span id="cb7-3">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># date_read is na even though I did read them</span></span>
<span id="cb7-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(my_rating <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb7-5">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># fill with the date added, </span></span>
<span id="cb7-6">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># which should be close enough </span></span>
<span id="cb7-7">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># (anyway the only thing we have)</span></span>
<span id="cb7-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date_read =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">if_else</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(date_read), date_added, date_read)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb7-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">arrange</span>(date_read) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb7-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(lubridate<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">year</span>(date_read)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb7-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">year_order =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">n</span>()) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb7-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(year_order, lubridate<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">year</span>(date_read), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(my_rating)))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_tile</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gray90"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linewidth =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-14">  paletteer<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_fill_paletteer_d</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"NineteenEightyR::miami2"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">direction =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-15">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2015</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2023</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-16">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">limits =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span>), </span>
<span id="cb7-17">                     <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">30</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">40</span>),</span>
<span id="cb7-18">                     <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">expand =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">expansion</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-19">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Books Read"</span>, </span>
<span id="cb7-20">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),</span>
<span id="cb7-21">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"My Rating"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-22">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gray4"</span>),</span>
<span id="cb7-23">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gray4"</span>),</span>
<span id="cb7-24">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"bottom"</span>,</span>
<span id="cb7-25">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.grid =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),</span>
<span id="cb7-26">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.grid.major.x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_line</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gray90"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linetype =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>),</span>
<span id="cb7-27">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill=</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span>),</span>
<span id="cb7-28">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">text =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gray90"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-29">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coord_fixed</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ratio =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.2</span>)</span></code></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2023-06-10-goodreads/index_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="whats-the-best-book-length-for-me" class="level2">
<h2 class="anchored" data-anchor-id="whats-the-best-book-length-for-me">What’s the best book length for me?</h2>
<p>One quick an easy thing to check is whether I enjoy longer or shorter books. There doesn’t seem to be much to see here, but the plot was nice and I decided to keep it.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1">min_pages <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span></span>
<span id="cb8-2">max_pages <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1000</span></span>
<span id="cb8-3"></span>
<span id="cb8-4">df <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb8-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">between</span>(number_of_pages, min_pages, max_pages)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb8-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span>my_rating, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y=</span>number_of_pages)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb8-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_point</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha=</span>.<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pch=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb8-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">stat_summary</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> my_rating <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>), </span>
<span id="cb8-9">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">geom =</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pointrange"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"steelblue"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fun.data=</span>mean_se) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb8-10">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#coord_flip() +</span></span>
<span id="cb8-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Do I prefer longer books?"</span>,</span>
<span id="cb8-12">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">subtitle =</span> glue<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">glue</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Showing books with more than {min_pages} and less than {max_pages} pages."</span>),</span>
<span id="cb8-13">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Number of Pages"</span>, </span>
<span id="cb8-14">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"My Rating"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb8-15">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb8-16">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">expand =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb8-17">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">limits =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">800</span>))</span></code></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2023-06-10-goodreads/index_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="show-me-the-ratios" class="level2">
<h2 class="anchored" data-anchor-id="show-me-the-ratios">Show me the Ratios</h2>
<p>I promised to check the gender ratios. So I used the <code>gender</code> package to predict gender using the information in the author’s name. There’s a few caveats:</p>
<ul>
<li><p>The prediction might be dead wrong for many reasons. Author’s of the package acknowledge this right away, so I feel I shouldn’t repeat <a href="https://github.com/lmullen/gender#guidelines-and-warnings">this info</a>.</p></li>
<li><p>There are some authors that might fail to parse. Since this is a simple analysis, I didn’t want to delve too much on fixing things.</p></li>
<li><p>Some books are written by more than one author<sup>2</sup>. For simplicity’s sake, I’m going to go with the first author (I doubt it would change the ratio anyway). In goodreads’ database, we have an <code>author_l_f</code> column with only one person. So that’s what I am going to be using.</p></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Before doing anything, only look at data from before 2023</span></span>
<span id="cb9-2">before2023 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(df, </span>
<span id="cb9-3">                     lubridate<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">year</span>(date_added) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2023</span>)</span>
<span id="cb9-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># get distinct authors</span></span>
<span id="cb9-5">author_names <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">unique</span>(before2023<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>author_l_f)</span>
<span id="cb9-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># split last-first and get first</span></span>
<span id="cb9-7">author_names <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sapply</span>(stringr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_split</span>(author_names, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pattern =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">", "</span>), <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(x) x[[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>]])</span>
<span id="cb9-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># predict</span></span>
<span id="cb9-9">gender_prediction <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> gender<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gender</span>(author_names)</span></code></pre></div>
</details>
</div>
<p>The gender dataset looks like this</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1">gender_prediction</span></code></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 117 × 6
   name   proportion_male proportion_female gender year_min year_max
   &lt;chr&gt;            &lt;dbl&gt;             &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt;    &lt;dbl&gt;
 1 Adam            0.996             0.0041 male       1932     2012
 2 Alan            0.997             0.0032 male       1932     2012
 3 Alex            0.966             0.0343 male       1932     2012
 4 Allie           0.0396            0.960  female     1932     2012
 5 Amor            0.177             0.823  female     1932     2012
 6 Anand           1                 0      male       1932     2012
 7 Andrew          0.996             0.004  male       1932     2012
 8 Andy            0.988             0.0119 male       1932     2012
 9 Anne            0.0025            0.998  female     1932     2012
10 Annie           0.0053            0.995  female     1932     2012
# ℹ 107 more rows</code></pre>
</div>
</div>
<p>The ratio of predicted names is 0.71, which is not bad. There are some authors missing that failed to parse. For example, J.K. Rowling:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># fails to parse, also no Joannes in data!</span></span>
<span id="cb12-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">any</span>(gender_prediction<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>name <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Joanne"</span>)</span>
<span id="cb12-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># FALSE</span></span>
<span id="cb12-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># She was in the dataset as J.K.</span></span>
<span id="cb12-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">any</span>(author_names <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"J.K."</span>)</span>
<span id="cb12-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># TRUE</span></span></code></pre></div>
</div>
<p>To be honest, I am not worried about the parsing failures (it would take a long time to fix too…). If anything, it would make my male dominant dataset less male dominant. Let’s finally check this out.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1">gender_prediction <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb13-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">count</span>(gender) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb13-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">percentage =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(n <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(n), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb13-4">  gt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gt</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">caption =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Number of Books by Gender before 2023"</span>)</span></code></pre></div>
</details>
<div class="cell-output-display">
<div id="mqwjgsyamx" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#mqwjgsyamx table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#mqwjgsyamx thead, #mqwjgsyamx tbody, #mqwjgsyamx tfoot, #mqwjgsyamx tr, #mqwjgsyamx td, #mqwjgsyamx th {
  border-style: none;
}

#mqwjgsyamx p {
  margin: 0;
  padding: 0;
}

#mqwjgsyamx .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#mqwjgsyamx .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#mqwjgsyamx .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#mqwjgsyamx .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#mqwjgsyamx .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#mqwjgsyamx .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mqwjgsyamx .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#mqwjgsyamx .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#mqwjgsyamx .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#mqwjgsyamx .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#mqwjgsyamx .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#mqwjgsyamx .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#mqwjgsyamx .gt_spanner_row {
  border-bottom-style: hidden;
}

#mqwjgsyamx .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#mqwjgsyamx .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#mqwjgsyamx .gt_from_md > :first-child {
  margin-top: 0;
}

#mqwjgsyamx .gt_from_md > :last-child {
  margin-bottom: 0;
}

#mqwjgsyamx .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#mqwjgsyamx .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#mqwjgsyamx .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#mqwjgsyamx .gt_row_group_first td {
  border-top-width: 2px;
}

#mqwjgsyamx .gt_row_group_first th {
  border-top-width: 2px;
}

#mqwjgsyamx .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#mqwjgsyamx .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#mqwjgsyamx .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#mqwjgsyamx .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mqwjgsyamx .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#mqwjgsyamx .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#mqwjgsyamx .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#mqwjgsyamx .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#mqwjgsyamx .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mqwjgsyamx .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#mqwjgsyamx .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#mqwjgsyamx .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#mqwjgsyamx .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#mqwjgsyamx .gt_left {
  text-align: left;
}

#mqwjgsyamx .gt_center {
  text-align: center;
}

#mqwjgsyamx .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#mqwjgsyamx .gt_font_normal {
  font-weight: normal;
}

#mqwjgsyamx .gt_font_bold {
  font-weight: bold;
}

#mqwjgsyamx .gt_font_italic {
  font-style: italic;
}

#mqwjgsyamx .gt_super {
  font-size: 65%;
}

#mqwjgsyamx .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#mqwjgsyamx .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#mqwjgsyamx .gt_indent_1 {
  text-indent: 5px;
}

#mqwjgsyamx .gt_indent_2 {
  text-indent: 10px;
}

#mqwjgsyamx .gt_indent_3 {
  text-indent: 15px;
}

#mqwjgsyamx .gt_indent_4 {
  text-indent: 20px;
}

#mqwjgsyamx .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<caption>Number of Books by Gender before 2023</caption>
<thead>
<tr class="gt_col_headings header">
<th id="gender" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">gender</th>
<th id="n" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">n</th>
<th id="percentage" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">percentage</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="gender">female</td>
<td class="gt_row gt_right" headers="n">16</td>
<td class="gt_row gt_right" headers="percentage">13.7</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="gender">male</td>
<td class="gt_row gt_right" headers="n">101</td>
<td class="gt_row gt_right" headers="percentage">86.3</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>I was aiming for 10%, so 13.7% is right there. Again, this is bad. But let’s check this year.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 2023 onwards</span></span>
<span id="cb14-2">after2023 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(df, lubridate<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">year</span>(date_added) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2023</span>)</span>
<span id="cb14-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># get distinct authors</span></span>
<span id="cb14-4">author_names <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">unique</span>(after2023<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>author_l_f)</span>
<span id="cb14-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># split last-first and get first</span></span>
<span id="cb14-6">author_names <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sapply</span>(stringr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_split</span>(author_names, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pattern =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">", "</span>), <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(x) x[[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>]])</span>
<span id="cb14-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># predict</span></span>
<span id="cb14-8">gender_prediction <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> gender<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gender</span>(author_names)</span></code></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1">gender_prediction <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb15-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">count</span>(gender) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb15-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">percentage =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(n <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(n), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb15-4">  gt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gt</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">caption =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Number of Books by Gender after 2023"</span>)</span></code></pre></div>
</details>
<div class="cell-output-display">
<div id="ariblixedg" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#ariblixedg table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ariblixedg thead, #ariblixedg tbody, #ariblixedg tfoot, #ariblixedg tr, #ariblixedg td, #ariblixedg th {
  border-style: none;
}

#ariblixedg p {
  margin: 0;
  padding: 0;
}

#ariblixedg .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ariblixedg .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ariblixedg .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ariblixedg .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ariblixedg .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ariblixedg .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ariblixedg .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ariblixedg .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ariblixedg .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ariblixedg .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ariblixedg .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ariblixedg .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ariblixedg .gt_spanner_row {
  border-bottom-style: hidden;
}

#ariblixedg .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ariblixedg .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ariblixedg .gt_from_md > :first-child {
  margin-top: 0;
}

#ariblixedg .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ariblixedg .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ariblixedg .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ariblixedg .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ariblixedg .gt_row_group_first td {
  border-top-width: 2px;
}

#ariblixedg .gt_row_group_first th {
  border-top-width: 2px;
}

#ariblixedg .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ariblixedg .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ariblixedg .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ariblixedg .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ariblixedg .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ariblixedg .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ariblixedg .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ariblixedg .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ariblixedg .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ariblixedg .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ariblixedg .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ariblixedg .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ariblixedg .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ariblixedg .gt_left {
  text-align: left;
}

#ariblixedg .gt_center {
  text-align: center;
}

#ariblixedg .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ariblixedg .gt_font_normal {
  font-weight: normal;
}

#ariblixedg .gt_font_bold {
  font-weight: bold;
}

#ariblixedg .gt_font_italic {
  font-style: italic;
}

#ariblixedg .gt_super {
  font-size: 65%;
}

#ariblixedg .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ariblixedg .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ariblixedg .gt_indent_1 {
  text-indent: 5px;
}

#ariblixedg .gt_indent_2 {
  text-indent: 10px;
}

#ariblixedg .gt_indent_3 {
  text-indent: 15px;
}

#ariblixedg .gt_indent_4 {
  text-indent: 20px;
}

#ariblixedg .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<caption>Number of Books by Gender after 2023</caption>
<thead>
<tr class="gt_col_headings header">
<th id="gender" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">gender</th>
<th id="n" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">n</th>
<th id="percentage" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">percentage</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="gender">female</td>
<td class="gt_row gt_right" headers="n">11</td>
<td class="gt_row gt_right" headers="percentage">42.3</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="gender">male</td>
<td class="gt_row gt_right" headers="n">15</td>
<td class="gt_row gt_right" headers="percentage">57.7</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>This is WAY better: 42.3%! Yes, I did have to search google for good titles written by women. And yes, I do have access to a bookworm at home who happens to be my wife and can recommend me great pieces of writing. The good news is that the bar to find content by women was really low. It didn’t require extra effort on my side to vastly improve my reading experience.</p>
<p>The reading experience is the most important thing. I was missing out on great work. I cannot help but wonder why it was so difficult for me to get exposed to these pieces.</p>
</section>
<section id="what-i-have-learnt" class="level2">
<h2 class="anchored" data-anchor-id="what-i-have-learnt">What I have learnt</h2>
<p>I confirmed my own bias (~10% of content written by women) and found ways to improve it (currently getting to 50% for 2023!).</p>
<p>I have found amazing books written by female authors this year. To name a few, I have read <a href="https://amzn.to/3Hhq6JP"><em>Educated</em></a>, <a href="https://amzn.to/47Gr1yw"><em>Infidel</em></a>, <a href="https://amzn.to/48TYpmn"><em>Tomorrow, and Tomorrow, and Tomorrow</em></a>, <a href="https://amzn.to/3NZUVq9"><em>I’m Glad My Mom Died</em></a>, and <a href="https://amzn.to/48xIcDo"><em>My year of meats</em></a>. All of them 5 stars! The lessons learned are outside the scope of this piece.</p>
<p>I am confident that there’s much else to learn from female voices. A huge world that I would never experience if I were to stay within my biased interpretation of reality. I hope to continue pushing for a higher women ratio. It’s not that I was actively trying to avoid reading women, but it’s quite telling that even these masterpieces didn’t make it to my reading list without me purposefully searching for “Good books by women” and the like.</p>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>I sometimes believe that it is unfair to rate a book you didn’t read. If I start a book and don’t like it, but having committed through it, I don’t rate it.↩︎</p></li>
<li id="fn2"><p>I am reading <a href="https://www.goodreads.com/book/show/10245602-poor-economics">Poor Economics</a> co-written by a man and a woman. This approach would remove Duflo from the analysis.↩︎</p></li>
</ol>
</section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{andina2023,
  author = {Andina, Matias},
  title = {Goodreads},
  date = {2023-08-06},
  url = {https://matiasandina.netlify.app/posts/2023-06-10-goodreads/},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-andina2023" class="csl-entry quarto-appendix-citeas">
Andina, Matias. 2023. <span>“Goodreads.”</span> August 6, 2023. <a href="https://matiasandina.netlify.app/posts/2023-06-10-goodreads/">https://matiasandina.netlify.app/posts/2023-06-10-goodreads/</a>.
</div></div></section></div> ]]></description>
  <category>R</category>
  <category>books</category>
  <guid>https://matiasandina.netlify.app/posts/2023-06-10-goodreads/</guid>
  <pubDate>Sat, 05 Aug 2023 23:00:00 GMT</pubDate>
</item>
<item>
  <title>Inequality</title>
  <dc:creator>Matias Andina</dc:creator>
  <link>https://matiasandina.netlify.app/posts/2022-10-10-Inequality/</link>
  <description><![CDATA[ 





<p>I love <a href="https://futurecrunch.com/">Future Crunch</a>. The idea of receiving positive news that I wouldn’t otherwise get is fantastic and I appreciate the work they do. However, during one of the latest editions I got a pyramid plot coming from <a href="https://www.credit-suisse.com/about-us-news/en/articles/news-and-expertise/credit-suisse-global-wealth-report-2022-fast-wealth-growth-in-times-of-uncertainty-202209.html?ref=Future+Crunch-newsletter">Credit Suisse</a> which was really hard to read. Moreover, the people who made the plot were trying to make the case that the world is a better place, because there is less inequality.</p>
<p>You are welcome to try to interpret the plot on its source, <a href="https://www.credit-suisse.com/about-us-news/en/articles/news-and-expertise/credit-suisse-global-wealth-report-2022-fast-wealth-growth-in-times-of-uncertainty-202209.html?ref=Future+Crunch-newsletter">here’s the link again</a>. Because I think the representation is lacking, I do want to produce my own version using their data (aka, the values provided in their plot). Here’s a basic table for their data:</p>
<div class="cell">
<div class="cell-output-display">
<div id="ndewlqfikh" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#ndewlqfikh table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ndewlqfikh thead, #ndewlqfikh tbody, #ndewlqfikh tfoot, #ndewlqfikh tr, #ndewlqfikh td, #ndewlqfikh th {
  border-style: none;
}

#ndewlqfikh p {
  margin: 0;
  padding: 0;
}

#ndewlqfikh .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ndewlqfikh .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ndewlqfikh .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ndewlqfikh .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ndewlqfikh .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ndewlqfikh .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ndewlqfikh .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ndewlqfikh .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ndewlqfikh .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ndewlqfikh .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ndewlqfikh .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ndewlqfikh .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ndewlqfikh .gt_spanner_row {
  border-bottom-style: hidden;
}

#ndewlqfikh .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ndewlqfikh .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ndewlqfikh .gt_from_md > :first-child {
  margin-top: 0;
}

#ndewlqfikh .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ndewlqfikh .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ndewlqfikh .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ndewlqfikh .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ndewlqfikh .gt_row_group_first td {
  border-top-width: 2px;
}

#ndewlqfikh .gt_row_group_first th {
  border-top-width: 2px;
}

#ndewlqfikh .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ndewlqfikh .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ndewlqfikh .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ndewlqfikh .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ndewlqfikh .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ndewlqfikh .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ndewlqfikh .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ndewlqfikh .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ndewlqfikh .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ndewlqfikh .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ndewlqfikh .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ndewlqfikh .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ndewlqfikh .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ndewlqfikh .gt_left {
  text-align: left;
}

#ndewlqfikh .gt_center {
  text-align: center;
}

#ndewlqfikh .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ndewlqfikh .gt_font_normal {
  font-weight: normal;
}

#ndewlqfikh .gt_font_bold {
  font-weight: bold;
}

#ndewlqfikh .gt_font_italic {
  font-style: italic;
}

#ndewlqfikh .gt_super {
  font-size: 65%;
}

#ndewlqfikh .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ndewlqfikh .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ndewlqfikh .gt_indent_1 {
  text-indent: 5px;
}

#ndewlqfikh .gt_indent_2 {
  text-indent: 10px;
}

#ndewlqfikh .gt_indent_3 {
  text-indent: 15px;
}

#ndewlqfikh .gt_indent_4 {
  text-indent: 20px;
}

#ndewlqfikh .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_col_headings header">
<th id="Bracket" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">Bracket</th>
<th id="Bracket2" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Bracket2</th>
<th id="Year" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Year</th>
<th id="People (M)" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">People (M)</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_center" headers="Bracket">&lt;10K</td>
<td class="gt_row gt_left" headers="Bracket2">&lt;10K</td>
<td class="gt_row gt_right" headers="Year">2011</td>
<td class="gt_row gt_right" headers="People (M)">3054.0</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="Bracket">&lt;10K</td>
<td class="gt_row gt_left" headers="Bracket2">&lt;10K</td>
<td class="gt_row gt_right" headers="Year">2021</td>
<td class="gt_row gt_right" headers="People (M)">2818.0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="Bracket">10K-100K</td>
<td class="gt_row gt_left" headers="Bracket2">10K+</td>
<td class="gt_row gt_right" headers="Year">2011</td>
<td class="gt_row gt_right" headers="People (M)">1066.0</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="Bracket">10K-100K</td>
<td class="gt_row gt_left" headers="Bracket2">10K+</td>
<td class="gt_row gt_right" headers="Year">2021</td>
<td class="gt_row gt_right" headers="People (M)">1791.0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="Bracket">100K-1M</td>
<td class="gt_row gt_left" headers="Bracket2">10K+</td>
<td class="gt_row gt_right" headers="Year">2011</td>
<td class="gt_row gt_right" headers="People (M)">369.0</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="Bracket">100K-1M</td>
<td class="gt_row gt_left" headers="Bracket2">10K+</td>
<td class="gt_row gt_right" headers="Year">2021</td>
<td class="gt_row gt_right" headers="People (M)">627.0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="Bracket">1M+</td>
<td class="gt_row gt_left" headers="Bracket2">10K+</td>
<td class="gt_row gt_right" headers="Year">2011</td>
<td class="gt_row gt_right" headers="People (M)">29.7</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="Bracket">1M+</td>
<td class="gt_row gt_left" headers="Bracket2">10K+</td>
<td class="gt_row gt_right" headers="Year">2021</td>
<td class="gt_row gt_right" headers="People (M)">62.5</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<section id="why-i-dont-like-the-pyramid-plot" class="level2">
<h2 class="anchored" data-anchor-id="why-i-dont-like-the-pyramid-plot">Why I don’t like the pyramid plot</h2>
<ul>
<li>Pyramids have angles, I strive to stay away from angles.</li>
<li>The x axis is reversed.</li>
<li>All quantities are changing but there are horizontal levels trying to guide us. I think they do more harm than good.
<ul>
<li>These horizontal levels play the role of a y axis, only to add confusion because the scale is logarithmic.</li>
</ul></li>
</ul>
</section>
<section id="enter-waffle" class="level2">
<h2 class="anchored" data-anchor-id="enter-waffle">Enter Waffle</h2>
<p>I think Waffle plots are a fantastic alternative to all the nasty pie and pyramid plots. The representation of fractions is clear and explicit, and there are no angles that mess things up. I kept their colors to make it as similar as possible. Note that the world’s population has increased, so 1 square (or 1% of the population) is different on the 2011 and 2021 plots.</p>
<p><img src="https://matiasandina.netlify.app/posts/2022-10-10-Inequality/firstwaffle-1.png" class="img-fluid"></p>
</section>
<section id="the-case" class="level2">
<h2 class="anchored" data-anchor-id="the-case">The case</h2>
<p>The case that people are trying to make is: “Good News! There’s more people in the wealthier categories!”. For sure, we can say that these numbers indeed point towards the right direction. Is it fast enough? That depends on how much expectations you had for the global change we can achieve in one decade. If anything, things are better, but we have much room for improvement.</p>
<p>In the following plot, I tried to focus attention on the bottom bracket. If we manage to get people out of the bottom bracket, that would be a huge triumph for global development.</p>
<p><img src="https://matiasandina.netlify.app/posts/2022-10-10-Inequality/secondwaffle-1.png" class="img-fluid"></p>
<p>We are making progress. Progress is slow, but the share of people living in the bottom bracket is decreasing. However, looking at these plots, I cannot help but notice the immense task we have ahead: we still have to lift half of the planet out of this bracket. This challenge is something I wanted to convey, and I think it’s more evident in these waffle than the pyramid plots. I think Hans, put it better than anyone:</p>
<blockquote class="blockquote">
<p>Things can be bad, and getting better. – Hans Rosling</p>
</blockquote>
</section>
<section id="the-downside" class="level2">
<h2 class="anchored" data-anchor-id="the-downside">The downside</h2>
<p>There are downsides of using Waffle Plots. I’m quoting from a nice person who gave me feedback directly, they said: “One disadvantage of the waffle plot is a lack of precision. For instance, your version doesn’t show the change at the top from .5% to 1.2% (more than double!)”.</p>
<p>I was somewhat saving this idea for another plot. What idea? The idea that <em>all</em> wealthier brackets increased by a lot (~2X!). I decided to go with a bar plot showing the absolute number of people. This is because I want to keep numbers in terms of people, real human beings that belong to each bracket. Each person that we move is a lot, and we have a lot to do!</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2022-10-10-Inequality/index_files/figure-html/colplot-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>This is not the only issue with waffle plots. As I said before, the wealth brackets here are logarithmic, and the highest bracket is virtually infinite. Counting methods (aka, counting how many people belong to each bracket), can go far to give a sense of the overall distribution, but cannot bring a picture of the massive differences in wealth between the higher and the lower brackets when the axis is discretized to condense a logarithmic scale. Looking further the actual wealth range exceeds my intentions for this quick makeover, but I couldn’t help to mention it.</p>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{andina2022,
  author = {Andina, Matias},
  title = {Inequality},
  date = {2022-10-10},
  url = {https://matiasandina.netlify.app/posts/2022-10-10-Inequality/},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-andina2022" class="csl-entry quarto-appendix-citeas">
Andina, Matias. 2022. <span>“Inequality.”</span> October 10, 2022. <a href="https://matiasandina.netlify.app/posts/2022-10-10-Inequality/">https://matiasandina.netlify.app/posts/2022-10-10-Inequality/</a>.
</div></div></section></div> ]]></description>
  <guid>https://matiasandina.netlify.app/posts/2022-10-10-Inequality/</guid>
  <pubDate>Sun, 09 Oct 2022 23:00:00 GMT</pubDate>
</item>
<item>
  <title>Icebreaker</title>
  <dc:creator>Matias Andina</dc:creator>
  <link>https://matiasandina.netlify.app/posts/2021-04-25-Icebreaker/</link>
  <description><![CDATA[ 





<p>There are many managers I admire, some of whom I was lucky personally meet, others I “know” through reading their books/blogs.</p>
<p>I have have borrowed different questions and suggestions I liked from these managers to create an <em>Icebreaker</em>, a set of questions that can quickly provide me information about a new person I’m working with. At the same time, I wrote this post to provide new people in our team with basic knowledge about me, the new person they are working with.</p>
<p>Here are the questions and my answers<sup>1</sup>.</p>
<ul>
<li><strong>Would you say you are a morning person?</strong></li>
</ul>
<p>Average. As of 2021, I am transitioning from night owl to early bird. Ask me again in a couple years.</p>
<ul>
<li><strong>Do you like to be praised? Is it better to receive praise in public or in private?</strong></li>
</ul>
<p>I generally dislike to be praised. If anything must be said, I prefer that private and informal.</p>
<ul>
<li><strong>What is your preferred method of communication for feedback?</strong></li>
</ul>
<p>Unless it’s concrete feedback about a piece of work, something that is better written onto the work itself (e.g., code comments), I prefer conversation during a meeting. Written communication must be super accurate to avoid misunderstandings.</p>
<ul>
<li><strong>When do you prefer to receive feedback—routinely in 1:1s, or as-it-happens?</strong></li>
</ul>
<p>Both.</p>
<ul>
<li><strong>What’s your favorite way to treat yourself?</strong></li>
</ul>
<p>Food.</p>
<ul>
<li><strong>What makes you grumpy or turns you off?</strong></li>
</ul>
<p>In general, having to do too many thing at the same time makes me grumpy and turns me off. Scheduling conflicts turn me off.</p>
<ul>
<li><strong>How will I know you are not in good mood?</strong></li>
</ul>
<p>My face will be good evidence.</p>
<ul>
<li><strong>Human learning and growth requires the right amount of four things: new challenges, low ego, space to reflect and brainstorm, and timely and clear feedback. How are these four going for you? Is there one you need more or less of?</strong></li>
</ul>
<p>I believe I need more time to reflect and brainstorm. I have a thing for going after that new shiny challenge and investing more time on that than something that has known problems that must be solved.</p>
<ul>
<li><strong>What type of people do you normally work best with?</strong></li>
</ul>
<p>I work best with people who communicate often and honor commitments. I work best with people who communicate with candor and create an atmosphere of trust where we can say things to each other because everyone wants the best for their teammate.</p>
<ul>
<li><strong>What do you need from your teammates?</strong></li>
</ul>
<p>Advice. Guidance. Intellectual stimulation.</p>
<ul>
<li><strong>What do you need from your manager?</strong></li>
</ul>
<p>Advice. Guidance. Intellectual stimulation. Space to think, support to do, pressure to maintain my work level and keep improving.</p>
<ul>
<li><strong>How do I know when not to interrupt you?</strong></li>
</ul>
<p>In general you can interrupt me. When I’m coding or reading are two of the worst moments though.</p>
<ul>
<li><strong>What are the manager behaviors that you know you hate?</strong></li>
</ul>
<p>Displays of preference towards a member of the team. Being extremely hands-off, especially as a result of not liking the member’s work or the outcomes the work is generating.</p>




<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>My own answers might change overtime, I will try my best to keep a note of that change in this log.↩︎</p></li>
</ol>
</section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{andina2021,
  author = {Andina, Matias},
  title = {Icebreaker},
  date = {2021-04-25},
  url = {https://matiasandina.netlify.app/posts/2021-04-25-Icebreaker/},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-andina2021" class="csl-entry quarto-appendix-citeas">
Andina, Matias. 2021. <span>“Icebreaker.”</span> April 25, 2021. <a href="https://matiasandina.netlify.app/posts/2021-04-25-Icebreaker/">https://matiasandina.netlify.app/posts/2021-04-25-Icebreaker/</a>.
</div></div></section></div> ]]></description>
  <guid>https://matiasandina.netlify.app/posts/2021-04-25-Icebreaker/</guid>
  <pubDate>Sat, 24 Apr 2021 23:00:00 GMT</pubDate>
</item>
<item>
  <title>Queen’s Gambit</title>
  <dc:creator>Matias Andina</dc:creator>
  <link>https://matiasandina.netlify.app/posts/2021-02-07-queens-gambit/</link>
  <description><![CDATA[ 





<p>I love games. I enjoy the fun in many formats: cards, boards, consoles. Yet, over the years, chess has consolidated as the game I play most often, and it is likely the only game I both <strong>really</strong> like and can limit the amount I play<sup>1</sup>.</p>
<p>It’s been a couple of months since I noticed something weird going on in my games, a sort of disturbance in the force. I felt I was playing a type of position called <strong>Queen’s Gambit</strong> way more often than normal.</p>
<p>Because there’s currently a sort of chess mania fueled by the very successful new series that gets the name from the gambit<sup>2</sup>, I thought it would be pretty easy to find out whether the data reflected my gut feeling.</p>
<section id="too-long-didnt-read" class="level2">
<h2 class="anchored" data-anchor-id="too-long-didnt-read">Too Long — Didn’t Read</h2>
<p>I apologize for writing long posts. Be my guest and jump directly to the popularity of the Queen’s Gambit across time by clicking here</p>
</section>
<section id="the-data" class="level2">
<h2 class="anchored" data-anchor-id="the-data">The data</h2>
<p>To do any sort of analysis, I needed data. Although there are probably many places where I could have found it, <code>www.chess.com</code> has a large dataset and it is somewhat accessible (if you can parse websites, see how). It is also the place where I play, so the dataset of <em>my</em> games comes from there.</p>
<p>Throughout this post, I will be using two datasets:</p>
<ol type="1">
<li>Master Games: games played by Chess Masters where Queen’s Gambit is played.</li>
<li>My games: All my games at chess.com, spanning from 2012 to January 2021.</li>
</ol>
<p>Let’s minimally explore the dataset of Master Games for the sake of DataViz 📈.</p>
<p>I first started looking at a dataset with 37287 entries, from games played between chess Masters (aka Master Games) that open with Queen’s Gambit. Games were played between 2000 and 2020. After a bit of data cleaning, there were a few quick things I wanted to look at.</p>
<p>Below, you can find a violin plot of the number of moves a chess match between masters normally has.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2021-02-07-queens-gambit/index_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>If you are curious, here’s a table with summary statistics for the number of moves in the games by result.</p>
<div class="cell">
<div class="cell-output-display">
<div id="zkicyqqglp" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#zkicyqqglp table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#zkicyqqglp thead, #zkicyqqglp tbody, #zkicyqqglp tfoot, #zkicyqqglp tr, #zkicyqqglp td, #zkicyqqglp th {
  border-style: none;
}

#zkicyqqglp p {
  margin: 0;
  padding: 0;
}

#zkicyqqglp .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#zkicyqqglp .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#zkicyqqglp .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#zkicyqqglp .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#zkicyqqglp .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zkicyqqglp .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zkicyqqglp .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zkicyqqglp .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#zkicyqqglp .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#zkicyqqglp .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#zkicyqqglp .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#zkicyqqglp .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#zkicyqqglp .gt_spanner_row {
  border-bottom-style: hidden;
}

#zkicyqqglp .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#zkicyqqglp .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#zkicyqqglp .gt_from_md > :first-child {
  margin-top: 0;
}

#zkicyqqglp .gt_from_md > :last-child {
  margin-bottom: 0;
}

#zkicyqqglp .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#zkicyqqglp .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#zkicyqqglp .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#zkicyqqglp .gt_row_group_first td {
  border-top-width: 2px;
}

#zkicyqqglp .gt_row_group_first th {
  border-top-width: 2px;
}

#zkicyqqglp .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zkicyqqglp .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#zkicyqqglp .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#zkicyqqglp .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zkicyqqglp .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zkicyqqglp .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#zkicyqqglp .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#zkicyqqglp .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#zkicyqqglp .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zkicyqqglp .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zkicyqqglp .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zkicyqqglp .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zkicyqqglp .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zkicyqqglp .gt_left {
  text-align: left;
}

#zkicyqqglp .gt_center {
  text-align: center;
}

#zkicyqqglp .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#zkicyqqglp .gt_font_normal {
  font-weight: normal;
}

#zkicyqqglp .gt_font_bold {
  font-weight: bold;
}

#zkicyqqglp .gt_font_italic {
  font-style: italic;
}

#zkicyqqglp .gt_super {
  font-size: 65%;
}

#zkicyqqglp .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#zkicyqqglp .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#zkicyqqglp .gt_indent_1 {
  text-indent: 5px;
}

#zkicyqqglp .gt_indent_2 {
  text-indent: 10px;
}

#zkicyqqglp .gt_indent_3 {
  text-indent: 15px;
}

#zkicyqqglp .gt_indent_4 {
  text-indent: 20px;
}

#zkicyqqglp .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_col_headings header">
<th id="Result" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">Result</th>
<th id="min" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">min</th>
<th id="q25" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">q25</th>
<th id="median" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">median</th>
<th id="mean" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">mean</th>
<th id="q75" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">q75</th>
<th id="max" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">max</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_center" headers="Result">white wins</td>
<td class="gt_row gt_right" headers="min">5</td>
<td class="gt_row gt_right" headers="q25">31</td>
<td class="gt_row gt_right" headers="median">40</td>
<td class="gt_row gt_right" headers="mean">41.85</td>
<td class="gt_row gt_right" headers="q75">50</td>
<td class="gt_row gt_right" headers="max">161</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="Result">draw</td>
<td class="gt_row gt_right" headers="min">2</td>
<td class="gt_row gt_right" headers="q25">21</td>
<td class="gt_row gt_right" headers="median">34</td>
<td class="gt_row gt_right" headers="mean">36.84</td>
<td class="gt_row gt_right" headers="q75">49</td>
<td class="gt_row gt_right" headers="max">204</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="Result">black wins</td>
<td class="gt_row gt_right" headers="min">4</td>
<td class="gt_row gt_right" headers="q25">33</td>
<td class="gt_row gt_right" headers="median">41</td>
<td class="gt_row gt_right" headers="mean">43.82</td>
<td class="gt_row gt_right" headers="q75">53</td>
<td class="gt_row gt_right" headers="max">183</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="what-is-this-queens-gambit-anyway" class="level2">
<h2 class="anchored" data-anchor-id="what-is-this-queens-gambit-anyway">What is this “Queen’s Gambit”, anyway?</h2>
<p>Generally speaking, a gambit is a position where both players stand to exchange pieces. In the particular case of the <strong>Queen’s Gambit</strong>, we are most often referring to this position (although see further below).</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2021-02-07-queens-gambit/queens_gambit/boards/board01.png" class="quarto-figure quarto-figure-center figure-img" style="width:50.0%;height:50.0%"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="when-does-it-happen" class="level2">
<h2 class="anchored" data-anchor-id="when-does-it-happen">When does it happen?</h2>
<p>Queen’s gambit is an opening, this means it occurs early in the game. In this case, the gambit is overwhelmingly proposed on the second move and just a few games develop into a position that is equivalent to the Queen’s gambit later in the game.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2021-02-07-queens-gambit/index_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="who-benefits" class="level2">
<h2 class="anchored" data-anchor-id="who-benefits">Who benefits?</h2>
<p>In chess, whoever starts (aka plays white) has advantage. However, Chess Masters are heavily trained in defense, so it’s not a walk in the part for white. It always depends heavily on the initial positions (openings), gambit proposals, and responses (accepted or declined with many variations). In the case of the Queen’s Gambit, the machines predict white is favorite to win, while accepting the gambit increases the likelihood of draws. Interestingly, if we calculate the expected value for black from the observed frequencies, it might be slightly better for black to accept the gambit<sup>3</sup>.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2021-02-07-queens-gambit/queens_gambit/bars_together.png" style="width:80.0%;height:80.0%" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>I wouldn’t treat this tiny increment as something real. It is likely just noise. In reality, Chess Masters decline the Queen’s gambit way more often than they accept it (about 2.6 times more often!).</p>
<p>In fact, if we check with the chess engines, they seldom accept the Queen’s Gambit either. On a personal, totally amateur note, I don’t feel like accepting the Queen’s Gambit, it just doesn’t feel right.</p>
</section>
<section id="where-do-they-go" class="level2">
<h2 class="anchored" data-anchor-id="where-do-they-go">Where do they go?</h2>
<p>After the opening, chess games branch into a myriad possible positions. I believe a cool way to see this is to use alluvial plots to visualize how the games evolve in time. It would really be a mess to visualize all moves, so I just focused on certain games and kept it short around proposal/response in regards to Queen’s Gambit. I added the result of the game, just out of curiosity.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2021-02-07-queens-gambit/index_files/figure-html/alluvial-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>As you can see, I focused on the two cases where white moves their pawn to c4 (<code>c4</code>) to actually “propose” the gambit. This is how both situations look on the board.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">1. d4 d5 2. c4</th>
<th style="text-align: center;">1. d4 Nf3 2. c4</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><img src="https://matiasandina.netlify.app/posts/2021-02-07-queens-gambit/queens_gambit/boards/board01.png" width="180"></td>
<td style="text-align: center;"><img src="https://matiasandina.netlify.app/posts/2021-02-07-queens-gambit/queens_gambit/boards/board02.png" width="180"></td>
</tr>
</tbody>
</table>
<p>“Accepting” the gambit means taking the pawn at c4 (<code>dxc4</code>). As we said before, this is the least frequent case, and it is interesting to see that almost none of the <code>Nf6</code> games go to accept the gambit. It’s also quite telling that the vast majority of Masters respond to Queen’s Gambit with <code>e6</code>. This is how it looks in the board.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 48%">
<col style="width: 51%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">1. d4 d5 2. c4 e6</th>
<th style="text-align: center;">1. d4 Nf6 2. c4 e6</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><img src="https://matiasandina.netlify.app/posts/2021-02-07-queens-gambit/queens_gambit/boards/board_e6.png" width="180"></td>
<td style="text-align: center;"><img src="https://matiasandina.netlify.app/posts/2021-02-07-queens-gambit/queens_gambit/boards/board_Nf6_e6.png" width="180"></td>
</tr>
</tbody>
</table>
<section id="special-case" class="level3">
<h3 class="anchored" data-anchor-id="special-case">Special case</h3>
<p>There’s a special case where games take a bit longer to reach the gambit. These are the games where the second move is <code>Nf3 Nf6</code>. I made the same alluvial plot for these games. For some reason, this position prompts the majority of Chess Masters to accept the gambit.</p>
<p>Thus, if you like to play the gambit as white, and you like the other side to accept it, you should delay your <code>c4</code> advance just one move.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2021-02-07-queens-gambit/index_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>This is how your board should look like if you want black to accept the gambit.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2021-02-07-queens-gambit/queens_gambit/boards/board_second_move_accept.png" class="quarto-figure quarto-figure-center figure-img" style="width:50.0%;height:50.0%"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="popularity" class="level2">
<h2 class="anchored" data-anchor-id="popularity">Popularity</h2>
<p>Enough with the chess lingo, show me what I came here for! Alright, alright, don’t bark. Here’s the popularity plot on the Masters Games.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2021-02-07-queens-gambit/index_files/figure-html/pop-plot-masters-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>This plot shows that the popularity of the gambit increased dramatically. But my prediction was <em>wrong</em>, the gambit was super popular a few years ago and I didn’t notice anything.</p>
<p>What happened between 2017 and 2019? I don’t really know if the total amount of games just skyrocketed, but it’s possible. Maybe the 2018 world championship had something to do with it. I didn’t parse the full database, so I can’t tell you about the frequency of all games.</p>
<p>What happened in 2020? If you are from the future, I would like to remind you that there was a Global Pandemic on 2020, stay safe whenever you are.</p>
<p>The popularity graph didn’t show what I was expecting to see, but I still trust my gut feeling. It all started just a few months ago, I’m pretty sure that there is something in the data that needs to be unmasked.</p>
<p>Data from 2020 will not reflect my gut feeling easily. First, the pandemic messed up with the tournament schedule. Second, the TV series might be super popular with normal people, but we shouldn’t expect Chess Masters to change the way they open games because of it.</p>
<p>So…what about simple mortals like you and me? Well, my friend, if you made it this far, I trust you to go on with my game database.</p>
</section>
<section id="my-games" class="level2">
<h2 class="anchored" data-anchor-id="my-games">My games</h2>
<p>First, you should know that I <em>mostly</em> play blitz games (either 3 minutes in the clock at start or 3 minutes with 2 seconds added per move). Nonetheless, it looks like the move distribution of games is quite similar to what we see in Masters games.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2021-02-07-queens-gambit/index_files/figure-html/density_plot-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>There are two places where I see differences. First, Master Games show a bump quite early, even below 20 moves. This is unusual because it takes more moves to break a good defense. We will come back later to this.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2021-02-07-queens-gambit/index_files/figure-html/first-arrow-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Second, there is another bump on longer games. I attribute this to the nature of my skill level. I can’t play much more than an opening and a few attempts on the “middle game”. Most of my games will evolve pretty quickly (either because the clock forces you to be aggressive or because our chess level is not good). It’s often the case that one player makes a crucial mistake and the game evolves fast after that.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2021-02-07-queens-gambit/index_files/figure-html/second-arrow-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>There’s another explanation for these differences. If we separate games according to result. We see that Masters games have almost the same shape as mine but, when they get to a draw, they get to it really fast. For us novices, getting a draw is often an accident. Masters deliberately draw, and they do it early.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2021-02-07-queens-gambit/index_files/figure-html/facet-result-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<section id="drawing-is-a-signal-of-quality" class="level3">
<h3 class="anchored" data-anchor-id="drawing-is-a-signal-of-quality">Drawing is a signal of quality</h3>
<p>At my level, drawing a game is not common. For pros, it’s quite the opposite. Something else that draws my attention is that black is really unlikely to win a game. This is similar to other games, like tennis, where the player that serves (aka, starts the game) has a huge advantage.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2021-02-07-queens-gambit/index_files/figure-html/result-prop-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="my-openings" class="level3">
<h3 class="anchored" data-anchor-id="my-openings">My openings</h3>
<p>In my database, I have all the games I played. Up to February 2021, it was a total of 15130. Yes, I know, a lot, roughly 4.61 per day since 2012. Anyway, I can get all the openings from my games.</p>
<p>I selected the ten most frequent first moves when I am playing white and when I am playing black. You can see that <code>d4 d5</code> doesn’t appear on the top ten at all when playing white. The only times I face the <code>d4 d5</code> opening (which might lead to Queen’s Gambit) is when I play black.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2021-02-07-queens-gambit/index_files/figure-html/frequent-openings-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="how-often-do-i-play-against-the-gambit" class="level3">
<h3 class="anchored" data-anchor-id="how-often-do-i-play-against-the-gambit">How often do I play against the gambit?</h3>
<p>The amount I play has not been even over the years, but the frequency of games where I play the gambit seems somewhat marginal and independent of the how much I play.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2021-02-07-queens-gambit/index_files/figure-html/all-games-by-year-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Marginal proportions are hard to see on a frequency graph, so maybe this graph is a bit more evident. I have played the Queen’s Gambit in roughly 5.0% of the games. The game sample from 2021 might not be big enough to be representative (only January is present).</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2021-02-07-queens-gambit/index_files/figure-html/prop-games-by-year-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The small increases in late years are not big enough for me to notice, especially when spread evenly across the year. But what happens if we only look at 2020? The TV series started in October. In November, we see a big jump in the Queen’s Gambit’s frequency!</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2021-02-07-queens-gambit/index_files/figure-html/gambit-pop-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>This is increase is not big. In fact, during November I also played the Scandinavian Defense<sup>4</sup> more often. But even so, the <strong>Queen’s Gambit</strong> got a ~3X jump on November, something that is way more noticeable when going from ~2.5% to ~ 7.5% than a 5-10% increase in an opening that I already play pretty often.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2021-02-07-queens-gambit/index_files/figure-html/gambit-pop2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="wrap" class="level2">
<h2 class="anchored" data-anchor-id="wrap">Wrap</h2>
<p>This project started with just an intuition and went down the rabbit hole of exploration. It took quite a long time to write (and re-write), but I was a lot of fun to mess around with. I hope you have enjoyed it if you made it this far!</p>
</section>
<section id="more-readings" class="level2">
<h2 class="anchored" data-anchor-id="more-readings">More readings</h2>
<p>If you want to read a nice, data rich, post about the “Chess Boom” that the series brought about, check <a href="https://www.bloomberg.com/graphics/2020-chess-boom/" class="uri">https://www.bloomberg.com/graphics/2020-chess-boom/</a>.</p>
<p>Even if you ask, Chess.com does not give you all the games in your database nicely (probably trying to limit the bandwidth). So I slightly adapted the following script <a href="https://github.com/arnsholt/chesscom-games" class="uri">https://github.com/arnsholt/chesscom-games</a> for the purpose of “Gimme all my games with almost no clicks involved!”. It uses the API, so I think it’s all cool :).</p>
<p>I should have probably searched for somebody’s package. Here are some references that might be useful:</p>
<ul>
<li>https://github.com/JaseZiv/chessR</li>
<li>https://github.com/curso-r/chess</li>
</ul>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>However, after reading this post you might believe I’m a bit of a chess junkie 😝↩︎</p></li>
<li id="fn2"><p>But mostly because the star is a kick-ass woman.↩︎</p></li>
<li id="fn3"><p>I’m using the observed frequencies and calculating one point per win and 0.5 points per draw. This gives the expected values for each player.↩︎</p></li>
<li id="fn4"><p>Scandinavian Defense is a position characterized by <code>1.e4 d5</code>, it’s by far my prefered opening when playing black.↩︎</p></li>
</ol>
</section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{andina2021,
  author = {Andina, Matias},
  title = {Queen’s {Gambit}},
  date = {2021-02-07},
  url = {https://matiasandina.netlify.app/posts/2021-02-07-queens-gambit/},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-andina2021" class="csl-entry quarto-appendix-citeas">
Andina, Matias. 2021. <span>“Queen’s Gambit.”</span> February 7, 2021.
<a href="https://matiasandina.netlify.app/posts/2021-02-07-queens-gambit/">https://matiasandina.netlify.app/posts/2021-02-07-queens-gambit/</a>.
</div></div></section></div> ]]></description>
  <category>chess</category>
  <category>fun</category>
  <category>design</category>
  <guid>https://matiasandina.netlify.app/posts/2021-02-07-queens-gambit/</guid>
  <pubDate>Sun, 07 Feb 2021 00:00:00 GMT</pubDate>
</item>
<item>
  <title>Lifeviz</title>
  <dc:creator>Matias Andina</dc:creator>
  <link>https://matiasandina.netlify.app/posts/2021-01-16-lifeviz/</link>
  <description><![CDATA[ 





<p>I have not made new year resolutions, I made <a href="https://matiasandina.netlify.app/2021/01/art-in-a-new-year/">art</a>. I also finally got some time to explore one of the little Shiny projects that were dormant in my <code>/Project</code> folder during most of 2020: <strong>lifeviz</strong>.</p>
<p>The goal of <a href="https://matias-andina.shinyapps.io/lifeviz">lifeviz</a> is to visualize life events. This has been inspired by the post <a href="https://waitbutwhy.com/2015/12/the-tail-end.html">‘The Tail End’ by WaitButWhy</a>. I have taken the visualizations and added a few degrees of freedom, so that the users can visualize the past/present. On the activities tab, users can display the remaining activity counts for things they could represent using emojis.</p>
<p>This is an example of what it can do:</p>
<p><img src="https://raw.githubusercontent.com/matiasandina/lifeviz/main/example.gif" class="img-fluid"></p>
<p>You can find <a href="https://matias-andina.shinyapps.io/lifeviz">lifeviz here</a>.</p>
<section id="why-i-made-this" class="level3">
<h3 class="anchored" data-anchor-id="why-i-made-this">Why I made this</h3>
<p>The idea is to produce reflection and general introspection about our time on Earth. Actually visualizing the number of remaining days/burgers/hugs, can be a powerful tool to do so. Check <a href="https://matias-andina.shinyapps.io/lifeviz">lifeviz here</a>.</p>
<p>As I briefly mentioned, this app has been created using Shiny and R. I have left all the details out of this post, but you might be interested.</p>
<details>
<summary>
Show me the code
</summary>
<p>
You can check the code at https://github.com/matiasandina/lifeviz/
</p>
</details>
</section>
<section id="my-life" class="level3">
<h3 class="anchored" data-anchor-id="my-life">My life</h3>
<p>I have used the app to scratch my own itch, so this is my current status. If I live 90 years, these are the years past (gray), present (red) and left (unfilled).</p>
<p><img src="https://matiasandina.netlify.app/posts/2021-01-16-lifeviz/img/years.png" class="img-fluid"></p>
<p>I think this one is more actionable, gotta make those weeks count!</p>
<p><img src="https://matiasandina.netlify.app/posts/2021-01-16-lifeviz/img/weeks.png" class="img-fluid"></p>
</section>
<section id="activities" class="level3">
<h3 class="anchored" data-anchor-id="activities">Activities</h3>
<p>I try to meditate once a day<sup>1</sup>. If I do so for the rest of my life, that’s a hell lot of meditation.</p>
<p><img src="https://matiasandina.netlify.app/posts/2021-01-16-lifeviz/img/meditation.png" class="img-fluid"></p>
<p>On the weekends, I am almost certain to get something tasty, probably with a cappuccino ☕ and a book 📖. Let’s say I do this only once per weekend, let’s call it “Saturday Bakery Breakfast”</p>
<p><img src="https://matiasandina.netlify.app/posts/2021-01-16-lifeviz/img/bakery.png" class="img-fluid"></p>
</section>
<section id="the-goal" class="level3">
<h3 class="anchored" data-anchor-id="the-goal">The goal</h3>
<p>I hope using this app may help you appreciate the uniqueness of each of the moments we take for granted. I hope it makes you present, wherever, whenever you are. Enjoy.</p>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>It’s an aspirational goal, maybe someday I will get there.↩︎</p></li>
</ol>
</section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{andina2021,
  author = {Andina, Matias},
  title = {Lifeviz},
  date = {2021-01-16},
  url = {https://matiasandina.netlify.app/posts/2021-01-16-lifeviz/},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-andina2021" class="csl-entry quarto-appendix-citeas">
Andina, Matias. 2021. <span>“Lifeviz.”</span> January 16, 2021. <a href="https://matiasandina.netlify.app/posts/2021-01-16-lifeviz/">https://matiasandina.netlify.app/posts/2021-01-16-lifeviz/</a>.
</div></div></section></div> ]]></description>
  <category>art</category>
  <category>R</category>
  <guid>https://matiasandina.netlify.app/posts/2021-01-16-lifeviz/</guid>
  <pubDate>Sat, 16 Jan 2021 00:00:00 GMT</pubDate>
</item>
<item>
  <title>Rotating perspectives</title>
  <dc:creator>Matias Andina</dc:creator>
  <link>https://matiasandina.netlify.app/posts/2021-01-03-rotating-perspectives/</link>
  <description><![CDATA[ 





<p>I have been asked to unveil a bit of what’s under the hood on <a href="https://matiasandina.netlify.app/2021/01/art-in-a-new-year/">this post</a>. I decided to make a new post to share how my creative process took place and maybe inspire others to play along.</p>
<p>Something interesting about all of this is how well it plays into common sense. Looking at things from a different perspective, in this case adding just a rotation, can yield outstanding results.</p>
<section id="the-shapes" class="level3">
<h3 class="anchored" data-anchor-id="the-shapes">The shapes</h3>
<p>First of all, we are going to use the shapes provided by <code>ggforce::geom_regon()</code>.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyverse)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggforce)</span>
<span id="cb1-3"></span>
<span id="cb1-4">df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(</span>
<span id="cb1-5">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x0=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>,</span>
<span id="cb1-6">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y0=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,</span>
<span id="cb1-7">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">r=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span></span>
<span id="cb1-8">)</span>
<span id="cb1-9"></span>
<span id="cb1-10"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(df)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb1-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_regon</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x0 =</span> x0, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y0 =</span> y0,</span>
<span id="cb1-12">                 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">r =</span> r, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sides=</span> x0, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">angle =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),</span>
<span id="cb1-13">             <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gray50"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"black"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb1-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coord_equal</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb1-15">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Regular polygons using ggforce"</span>, </span>
<span id="cb1-16">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>,</span>
<span id="cb1-17">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">caption=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"@NeuroMLA"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb1-18">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),</span>
<span id="cb1-19">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.text.y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),</span>
<span id="cb1-20">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.ticks.y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),</span>
<span id="cb1-21">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot.title =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hjust=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>))</span></code></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2021-01-03-rotating-perspectives/index_files/figure-html/show-shapes-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="the-twist" class="level3">
<h3 class="anchored" data-anchor-id="the-twist">The twist</h3>
<p>Now we can implement a rotation to each figure. We will use the previous <code>df</code> and <code>expand_grid()</code> to add an angle rotation to the regular polygon. The greater the number of sides, the closer we get to a circular shape illusion when we rotate and overlap the polygons. For <code>n&gt;6</code> it didn’t generate the type of look I was looking after during my experimentation.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1">df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">expand_grid</span>(df, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">angle =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>))</span>
<span id="cb2-2"></span>
<span id="cb2-3"> </span>
<span id="cb2-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(df)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb2-5">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># notice we use angle = angle now</span></span>
<span id="cb2-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_regon</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x0=</span>x0,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y0=</span>y0,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">r=</span>r, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sides=</span>x0, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">angle=</span>angle),</span>
<span id="cb2-7">             <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gray50"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"black"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb2-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coord_equal</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb2-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Rotated regular polygons using ggforce"</span>, </span>
<span id="cb2-10">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>,</span>
<span id="cb2-11">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">caption=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"@NeuroMLA"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb2-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),</span>
<span id="cb2-13">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.text.y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),</span>
<span id="cb2-14">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.ticks.y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(), </span>
<span id="cb2-15">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot.title =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hjust=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>))</span></code></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2021-01-03-rotating-perspectives/index_files/figure-html/rotations-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>We can tinker with the <code>alpha</code> and <code>fill</code> to make some nice looking shapes. I’m not going to modify <code>color</code> but it’s also a possibility.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(df)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-2">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># notice we use angle = angle now and fil=factor(x0)</span></span>
<span id="cb3-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_regon</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x0=</span>x0,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y0=</span>y0,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">r=</span>r, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sides=</span>x0, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">angle=</span>angle,</span>
<span id="cb3-4">                 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(x0)), </span>
<span id="cb3-5">             <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"black"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coord_equal</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Rotated regular polygons using ggforce"</span>, </span>
<span id="cb3-8">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>,</span>
<span id="cb3-9">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">caption=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"@NeuroMLA"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),</span>
<span id="cb3-11">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span>,</span>
<span id="cb3-12">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.text.y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),</span>
<span id="cb3-13">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.ticks.y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),</span>
<span id="cb3-14">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot.title =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hjust=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>)) <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span> p</span>
<span id="cb3-15"></span>
<span id="cb3-16"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(p)</span></code></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2021-01-03-rotating-perspectives/index_files/figure-html/color-tinkering-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="make-it-pallette" class="level3">
<h3 class="anchored" data-anchor-id="make-it-pallette">Make it pallette</h3>
<p>We can have unlimited color combinations. Just as a start, two places I like to use when dealing with color pallettes in R:</p>
<ul>
<li><a href="https://www.r-graph-gallery.com/38-rcolorbrewers-palettes.html">R Color Brewer Pallettes</a></li>
<li><a href="https://color.adobe.com">Adobe Color Picker</a></li>
</ul>
<p>We will use <code>scale_fill_*()</code> functions of <code>ggplot</code>. I normally use <code>scale_fill_manual()</code> if I want to handpick the values, but <code>scale_fill_viridis()</code> and <code>scale_fill_brewer()</code> often do a nice job too!</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2021-01-03-rotating-perspectives/index_files/figure-html/pallettes-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2021-01-03-rotating-perspectives/index_files/figure-html/pallettes-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2021-01-03-rotating-perspectives/index_files/figure-html/pallettes-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2021-01-03-rotating-perspectives/index_files/figure-html/pallettes-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{andina2021,
  author = {Andina, Matias},
  title = {Rotating Perspectives},
  date = {2021-01-03},
  url = {https://matiasandina.netlify.app/posts/2021-01-03-rotating-perspectives/},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-andina2021" class="csl-entry quarto-appendix-citeas">
Andina, Matias. 2021. <span>“Rotating Perspectives.”</span> January 3,
2021. <a href="https://matiasandina.netlify.app/posts/2021-01-03-rotating-perspectives/">https://matiasandina.netlify.app/posts/2021-01-03-rotating-perspectives/</a>.
</div></div></section></div> ]]></description>
  <category>generative-art</category>
  <category>R</category>
  <guid>https://matiasandina.netlify.app/posts/2021-01-03-rotating-perspectives/</guid>
  <pubDate>Sun, 03 Jan 2021 00:00:00 GMT</pubDate>
</item>
<item>
  <title>Art in a New Year</title>
  <dc:creator>Matias Andina</dc:creator>
  <link>https://matiasandina.netlify.app/posts/2021-01-02-art-in-a-new-year/</link>
  <description><![CDATA[ 





<p>I have not made resolutions for this year<sup>1</sup>. I have instead spent that time playing with patterns on a canvas. It’s been a while since I wanted to have some time to do generative art using geometric figures and I finally got down to it on the very first day of this year. I found a fountain of joy after just a few hours of tinkering, something inside tells me this could be a new New Year’s tradition for me.</p>
<p>I started out with a simple form like a hexagon and started looking for patterns that were appealing to me, like the color palette.</p>
<p><img src="https://matiasandina.netlify.app/posts/2021-01-02-art-in-a-new-year/img/hex_057.png" class="img-fluid"></p>
<p>Something that I like about generative art is that I’m not in control, it’s a discovery process. I just set a few rules and pleasant aesthetics appear before me. The patterns might appear by design, but often they are the result of a benign error that created something beautiful. After tinkering with these patterns for a bit, I arrived at these new forms. They take me to a special place.</p>
<p>I have selected some of the results that I like the most below.</p>
<p><img src="https://matiasandina.netlify.app/posts/2021-01-02-art-in-a-new-year/img/RP_020.png" class="img-fluid"> <img src="https://matiasandina.netlify.app/posts/2021-01-02-art-in-a-new-year/img/RP_073.png" class="img-fluid"> <img src="https://matiasandina.netlify.app/posts/2021-01-02-art-in-a-new-year/img/RP_090.png" class="img-fluid"> <img src="https://matiasandina.netlify.app/posts/2021-01-02-art-in-a-new-year/img/RP_098.png" class="img-fluid"> <img src="https://matiasandina.netlify.app/posts/2021-01-02-art-in-a-new-year/img/RP_099.png" class="img-fluid"> <img src="https://matiasandina.netlify.app/posts/2021-01-02-art-in-a-new-year/img/RP_100.png" class="img-fluid"></p>




<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Well, at least not in the classical way, mostly just wishing we could get back to normal life sometime before 2022.↩︎</p></li>
</ol>
</section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{andina2021,
  author = {Andina, Matias},
  title = {Art in a {New} {Year}},
  date = {2021-01-02},
  url = {https://matiasandina.netlify.app/posts/2021-01-02-art-in-a-new-year/},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-andina2021" class="csl-entry quarto-appendix-citeas">
Andina, Matias. 2021. <span>“Art in a New Year.”</span> January 2, 2021.
<a href="https://matiasandina.netlify.app/posts/2021-01-02-art-in-a-new-year/">https://matiasandina.netlify.app/posts/2021-01-02-art-in-a-new-year/</a>.
</div></div></section></div> ]]></description>
  <category>generative-art</category>
  <category>R</category>
  <guid>https://matiasandina.netlify.app/posts/2021-01-02-art-in-a-new-year/</guid>
  <pubDate>Sat, 02 Jan 2021 00:00:00 GMT</pubDate>
</item>
<item>
  <title>Russian roulette</title>
  <dc:creator>Matias Andina</dc:creator>
  <link>https://matiasandina.netlify.app/posts/2020-11-02-Russian-roulette/</link>
  <description><![CDATA[ 





<p>There are many traders and most of them blow up at some point in their careers<sup>1</sup>. Maybe that’s why we worship those who don’t. We find rational explanations for their success, which basically boil down to saying they are smarter/faster/bolder/better than everyone else. We may even go as far as justifying success at all costs.</p>
<p>I’m sure there’s a lot of skill involved in playing dice with such great results over such a long period of time. And I’m not writing this to indicate there’s no such thing as ability involved in long-term successful investing. However, we know that things are never 100% skill and I am curious about the role of luck in performing a series of successful trades. In other words, what is the portion of <em>luck</em> involved in the process? There’s a ton of traders out there [<em>citation needed</em>], shouldn’t we expect the emergence of at least one Warren Buffet by <em>chance</em>?</p>
<section id="warren-buffet-and-the-russian-roulette" class="level2">
<h2 class="anchored" data-anchor-id="warren-buffet-and-the-russian-roulette">Warren Buffet and the Russian Roulette</h2>
<p>Warren Buffet is quite often considered unique in the pool of people who operate on the markets. But, what does <em>unique</em> mean? In other words, how likely is that we find a Warren Buffet?</p>
</section>
<section id="russian-roulette-quite-good-odds." class="level2">
<h2 class="anchored" data-anchor-id="russian-roulette-quite-good-odds.">Russian Roulette: quite good odds.</h2>
<p>Let’s play with some odds here. The Russian Roulette is that game in which you put a bullet on a six chamber revolver, you spin the barrel and pull the trigger, hoping that your attempt does not blow your brains. Not quite like taking a position on a stock, but not much different.</p>
<p>I will focus on the first event, the first trigger after the spin. If it turns out that the bullet is fired in the first trigger, the outcome is terrible. In other words, failure in this game equals total unrecoverable loss. However, the odds of survival are <em>not so bad</em>. Assuming the spin of the barrel is mostly governed by random processes, the odds of the bullet firing are <img src="https://latex.codecogs.com/png.latex?%5Cfrac%7B1%7D%7B6%7D"> , meaning that the survival chances are <img src="https://latex.codecogs.com/png.latex?%5Cfrac%7B5%7D%7B6%7D">. I’m quite sure the current financial system allows, and maybe encourages, traders to take higher risks of blowing up. And my guess is they sleep comfortably at night.</p>
</section>
<section id="one-million-roulettes" class="level2">
<h2 class="anchored" data-anchor-id="one-million-roulettes">One million roulettes</h2>
<p>Let’s imagine we have 1 million people playing (aka, 1 million traders, comfortably spinning barrels and triggering over and over). Let’s assume that the events are independent, so traders don’t affect each other and each time traders spin the barrel we have full randomness in place. The equation giving the number of survivors (<em>S</em>) over <em>time</em> is:</p>
<p><img src="https://latex.codecogs.com/png.latex?S(t)%20=%2010%5E6%20*%20(%5Cfrac%7B5%7D%7B6%7D)%5Et"></p>
<p>We can ask ourselves: how long does it take until there’s only one standing? This last trader, the survivor of all trades, will be our Warren Buffet.</p>
<p><img src="https://latex.codecogs.com/png.latex?S(t%20=%20t_%7Bx%7D)%20=%2010%5E0%20=%2010%5E6%20*%20(%5Cfrac%7B5%7D%7B6%7D)%5E%7Bt_%7Bx%7D%7D"></p>
<p><img src="https://latex.codecogs.com/png.latex?10%5E%7B-6%7D=%20(%5Cfrac%7B5%7D%7B6%7D)%5E%7Bt_x%7D"></p>
<p><img src="https://latex.codecogs.com/png.latex?%5Cfrac%7B-6%7D%7Blog_%7B10%7D(5/6)%7D=%20t_x"></p>
<p><img src="https://latex.codecogs.com/png.latex?75.9%20%5Capprox%20t_x"></p>
<p>Now we see that after 76 rounds (or trades) we are expected to have one survivor who was lucky enough to keep the bullet on the revolver and therefore their brain intact. This level of lucky is extremely profitable in a leveraged, compounding environment. It pays well to be the last one standing on the graph below.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2020-11-02-Russian-roulette/index_files/figure-html/exponential-decay-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<section id="dependency" class="level3">
<h3 class="anchored" data-anchor-id="dependency">Dependency</h3>
<p>I have assumed, just for illustration purposes, that events are random and independent. That is, traders don’t influence each other and the guns spinning and are identically dominated by chance. But we know that’s not a realistic picture of society.</p>
<p>We live and experience events in sequence. Our reason operates to explain the present using the previous conditions, even if the only real explanation is luck. Moreover, luck is nonlinear in the sense that it can create a qualitative difference. Once labeled a winner, it’s awful hard to lose that label, even if actively trying. People assume that you know something, you see something they don’t. You can profit from the hype, it increases your chances of survival. Luck begets more luck.</p>
<p>Luck begets help. The winners of just a few rounds can enjoy special treatment. For example, they would be allowed to borrow at better conditions, the equivalent of playing Russian roulette with somebody else’s brain on the line. They would receive hoards of people willing to put their brains in front of the bullet in the hopes of sharing part of the proceeds. And they would have all the incentives to keep happily playing even more riskier versions of Russian roulette.</p>


</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>A less pernicious version are those fund managers that loose money in comparison to an index fund such as the SP500 and charge a handsome fee to do so.↩︎</p></li>
</ol>
</section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{andina2020,
  author = {Andina, Matias},
  title = {Russian Roulette},
  date = {2020-11-02},
  url = {https://matiasandina.netlify.app/posts/2020-11-02-Russian-roulette/},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-andina2020" class="csl-entry quarto-appendix-citeas">
Andina, Matias. 2020. <span>“Russian Roulette.”</span> November 2, 2020.
<a href="https://matiasandina.netlify.app/posts/2020-11-02-Russian-roulette/">https://matiasandina.netlify.app/posts/2020-11-02-Russian-roulette/</a>.
</div></div></section></div> ]]></description>
  <category>random</category>
  <category>investing</category>
  <guid>https://matiasandina.netlify.app/posts/2020-11-02-Russian-roulette/</guid>
  <pubDate>Mon, 02 Nov 2020 00:00:00 GMT</pubDate>
</item>
<item>
  <title>A calorie is a calorie</title>
  <dc:creator>Matias Andina</dc:creator>
  <link>https://matiasandina.netlify.app/posts/2020-09-06-calories/</link>
  <description><![CDATA[ 





<p>The world was a different place around 1960. But humans were humans, roughly similar to those that were alive thousands of years ago and likely, as most humans do, they needed to eat.</p>
<p>The good news is that we have quite some data of humans eating and we have an interminable debate over <em>how much</em> should we eat.</p>
<p>It all boils down to one number: <strong>Total Calories</strong>. They would have us believe that “a calorie is a calorie” and it doesn’t matter where it comes from. Well, I’m not going to challenge the assumption on this blog, I’m saving that for later. But I was curious to see the evolution of this magical number across the world since around 1960.</p>
<p>Before we begin, I want to make some brief remarks.</p>
<p>Data from FAO can be found <a href="http://fenixservices.fao.org/faostat/static/bulkdownloads/FoodBalanceSheetsHistoric_E_All_Data.zip">here</a>.</p>
<blockquote class="blockquote">
<p><strong>NOTE:</strong> In this analysis, calorie data contains all what’s available for consumption, including waste, which can unfortunatelly be significant. Also note that “Calorie” is easier to write about than kiloCalorie, which is the unit we are actually referring to.</p>
</blockquote>
<section id="spagetthi-trend" class="level3">
<h3 class="anchored" data-anchor-id="spagetthi-trend">Spagetthi Trend</h3>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2020-09-06-calories/index_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>This looks mostly like an upward trend. In fact, just for fun, I am going to simplify this whole situation into the before/after scenario. The trend is so clear that I’m not going to lose too much information.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2020-09-06-calories/index_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>In the plot above, we see that most countries increase their food supply as measured by the calories available for consumption since 1960. We can more easily observe each country’s travel in the calorie spectrum in the dot plot below. An interesting thing to focus on this plot is the little amount of countries that have stayed around the dietary guidelines (1900 to 2400 kCal/day/person).</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2020-09-06-calories/index_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="how-much-of-an-increase" class="level3">
<h3 class="anchored" data-anchor-id="how-much-of-an-increase">How much of an increase</h3>
<p>When we look at the calorie increase as a proportion of the original available, we see most countries increasing calories between 5% and 25%, with a good number of countries increasing heavily, even doubling their calories.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2020-09-06-calories/index_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Can you make it move? Yes! To nail the point home, I want to add some motion to the plots, to see the World’s constant move into higher and higher calorie values. Surprisingly, we don’t see the world moving above 2000 calories and narrowing the distribution into an efficent “Enough food for everyone without waste” stage. We see this terrifying amoeba-like distribution creep into higher and higher caloric values.</p>
<blockquote class="twitter-tweet blockquote">
<p lang="en" dir="ltr">
Feel the excess calories creeping in? It's not just you it's <a href="https://twitter.com/hashtag/worldwide?src=hash&amp;ref_src=twsrc%5Etfw">#worldwide</a> <a href="https://t.co/NILcKc9vDg">pic.twitter.com/NILcKc9vDg</a>
</p>
— Matias Andina (<span class="citation" data-cites="NeuroMLA">@NeuroMLA</span>) <a href="https://twitter.com/NeuroMLA/status/1302668758125875203?ref_src=twsrc%5Etfw">September 6, 2020</a>
</blockquote>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<p>I found this <em>waterfall (?)</em> plot to be also quite telling about the overall movement by decade.</p>
</section>
<section id="the-good-and-the-bad" class="level3">
<h3 class="anchored" data-anchor-id="the-good-and-the-bad">The good and the Bad</h3>
<p>Good news is we lifted an incredible amount of people out of poverty. With that, we see the daily available calories in all countries go up above a somewhat arbitrary 2000 Calories/day/person. The bad news, is that</p>
<p>Calories are just the tip of the iceberg. If you want to see analysis at the macro levels, check my post about cereals.</p>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{andina2020,
  author = {Andina, Matias},
  title = {A Calorie Is a Calorie},
  date = {2020-09-06},
  url = {https://matiasandina.netlify.app/posts/2020-09-06-calories/},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-andina2020" class="csl-entry quarto-appendix-citeas">
Andina, Matias. 2020. <span>“A Calorie Is a Calorie.”</span> September
6, 2020. <a href="https://matiasandina.netlify.app/posts/2020-09-06-calories/">https://matiasandina.netlify.app/posts/2020-09-06-calories/</a>.
</div></div></section></div> ]]></description>
  <category>dataviz</category>
  <guid>https://matiasandina.netlify.app/posts/2020-09-06-calories/</guid>
  <pubDate>Sat, 05 Sep 2020 23:00:00 GMT</pubDate>
</item>
<item>
  <title>Unique</title>
  <dc:creator>Matias Andina</dc:creator>
  <link>https://matiasandina.netlify.app/posts/2020-07-05-Unique/</link>
  <description><![CDATA[ 





<p>I have experienced a few explosions here and there. Yes, it’s me not reading the docs. But it’s also me, assuming that verbs mean one thing and not another. Let’s do some <code>unique</code> operations in different languages.</p>
<section id="the-matlab-way" class="level3">
<h3 class="anchored" data-anchor-id="the-matlab-way">The MATLAB way</h3>
<pre><code>&gt;&gt; unique([3, 3, 3, 90, 10])

ans =

3 10 90</code></pre>
</section>
<section id="the-python-way" class="level3">
<h3 class="anchored" data-anchor-id="the-python-way">The Python way</h3>
<pre><code>&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; np.unique([3, 3, 3, 90, 10])
array([ 3, 10, 90])</code></pre>
</section>
<section id="the-r-way" class="level3">
<h3 class="anchored" data-anchor-id="the-r-way">The R way</h3>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1]  3 90 10</code></pre>
</div>
</div>
<p>This is what I would expect. I want the unique values, <strong>without</strong> the sorting. If I wanted to sort, I would do:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1]  3 10 90</code></pre>
</div>
</div>
<p>Maybe this is just me and R is the odd (read intuitive) ball here, but 🤷…</p>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{andina2020,
  author = {Andina, Matias},
  title = {Unique},
  date = {2020-07-05},
  url = {https://matiasandina.netlify.app/posts/2020-07-05-Unique/},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-andina2020" class="csl-entry quarto-appendix-citeas">
Andina, Matias. 2020. <span>“Unique.”</span> July 5, 2020. <a href="https://matiasandina.netlify.app/posts/2020-07-05-Unique/">https://matiasandina.netlify.app/posts/2020-07-05-Unique/</a>.
</div></div></section></div> ]]></description>
  <category>fun</category>
  <category>python</category>
  <category>R</category>
  <guid>https://matiasandina.netlify.app/posts/2020-07-05-Unique/</guid>
  <pubDate>Sat, 04 Jul 2020 23:00:00 GMT</pubDate>
</item>
<item>
  <title>Birthday Problem</title>
  <dc:creator>Matias Andina</dc:creator>
  <link>https://matiasandina.netlify.app/posts/2020-06-13-birthday-problem/</link>
  <description><![CDATA[ 





<p>We have all been there, classic math riddle:</p>
<blockquote class="blockquote">
<p>How many people need to be in one room so that the probability of two of them having the same birthday is more than 0.5?</p>
</blockquote>
<p>In a recent bootcamp exercise we tackled this in python and I wanted to share, just because it’s fun. I did it for a range of probabilities. My solution is probably not the fastest/shortest/most pythonic, but it’s a little thing I put out there so, if you want to use/improve it, please do!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> numpy <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> np</span>
<span id="cb1-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> matplotlib.pyplot <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> plt</span>
<span id="cb1-3"></span>
<span id="cb1-4"></span>
<span id="cb1-5"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> prob(n):</span>
<span id="cb1-6">    numerator <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> np.math.factorial(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">365</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> np.math.factorial(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">365</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>n)</span>
<span id="cb1-7">    denominator <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">365</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">**</span> n</span>
<span id="cb1-8">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> numerator<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>denominator)</span>
<span id="cb1-9"></span>
<span id="cb1-10">probs <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">list</span>(<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">map</span>(prob, <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">range</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>)))</span>
<span id="cb1-11"></span>
<span id="cb1-12">plt.plot(<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">range</span>(<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">len</span>(probs)), probs)</span>
<span id="cb1-13">plt.show()</span></code></pre></div>
</div>
<p>A bad translation into R, it would be something like:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1">prob <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(n){</span>
<span id="cb2-2">  numerator <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">exp</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lfactorial</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">365</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lfactorial</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">365</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>n))</span>
<span id="cb2-3">    denominator <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">365</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">**</span> n</span>
<span id="cb2-4">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">return</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> numerator<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>denominator)</span>
<span id="cb2-5">}</span>
<span id="cb2-6"></span>
<span id="cb2-7">probs <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sapply</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">99</span>, <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(n) <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">prob</span>(n))</span>
<span id="cb2-8"></span>
<span id="cb2-9"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">99</span>, probs, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">type=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"l"</span>,</span>
<span id="cb2-10">     <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">main=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Probability of 2 people having same birthday"</span>,</span>
<span id="cb2-11">     <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xlab =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"People in a room"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ylab=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"probability"</span>)</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2020-06-13-birthday-problem/index_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>



<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{andina2020,
  author = {Andina, Matias},
  title = {Birthday {Problem}},
  date = {2020-06-13},
  url = {https://matiasandina.netlify.app/posts/2020-06-13-birthday-problem/},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-andina2020" class="csl-entry quarto-appendix-citeas">
Andina, Matias. 2020. <span>“Birthday Problem.”</span> June 13, 2020. <a href="https://matiasandina.netlify.app/posts/2020-06-13-birthday-problem/">https://matiasandina.netlify.app/posts/2020-06-13-birthday-problem/</a>.
</div></div></section></div> ]]></description>
  <category>fun</category>
  <category>python</category>
  <category>R</category>
  <guid>https://matiasandina.netlify.app/posts/2020-06-13-birthday-problem/</guid>
  <pubDate>Fri, 12 Jun 2020 23:00:00 GMT</pubDate>
</item>
<item>
  <title>Python Keylogger</title>
  <dc:creator>Matias Andina</dc:creator>
  <link>https://matiasandina.netlify.app/posts/2020-06-13-python-keylogger/</link>
  <description><![CDATA[ 





<p>I have been struggling a lot with pain in my fingers and wrists<sup>1</sup>.</p>
<p>I have tried setting up timers for using the keyboard. But the only thing that seems to work is reducing the typing (aka get away from the computer and stop using the keyboard!).</p>
<p>Tracking hours didn’t work well, so I guess a last resort to force me is counting the actual number of keys per day and trying to keep that to a minimum.</p>
<p>After a little google searching, I found inspiration on this post: <a href="https://www.tutorialspoint.com/design-a-keylogger-in-python">Design a Keylogger in Python</a>.</p>
<p>I wanted something <strong>simple</strong>. Just count and save to file, in case future me wants to do some sort of analysis. Nothing fancy, no optimization. Most importantly something I can trust is not sending every keystroke I write over the internets.</p>
<blockquote class="blockquote">
<p>I will be using pynput library</p>
</blockquote>
<p>You can read the <a href="https://pynput.readthedocs.io/en/latest/keyboard.html">pynput docs here</a>.</p>
<p>Of note, <code>pip3 install pynput</code> failed. If only python made it possible for people to install things … 🤷</p>
<p>Anyway, mystery aside, <code>python -m pip install pynput</code> worked. I kind of trust this library is safe enough (read: <em>blind faith in open-source</em>) . And my passwords are kinda there scrambled somewhere in the text file but I don’t plan to host the file anywhere so it’s reasonably safe (please don’t get remote access to my computer 🙏).</p>
<p>The output to console (again, keep it simple) looks like this:</p>
<pre><code>Today is 2020-06-11 and the key count is: 0
...
Today is 2020-06-11 and the key count is: 12000
Today is a brand new day :)
Today is 2020-06-12 and the key count is: 0
Today is 2020-06-12 and the key count is: 1000
Today is 2020-06-12 and the key count is: 2000
...
Today is 2020-06-12 and the key count is: 13000
Today is a brand new day :)
Today is 2020-06-13 and the key count is: 0
Today is 2020-06-13 and the key count is: 1000
Today is 2020-06-13 and the key count is: 2000</code></pre>
<p>For those of you who want to use it, you can find the code below:</p>
<div class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Check the Code</summary>
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> pynput.keyboard <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> Key, Listener</span>
<span id="cb2-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> logging</span>
<span id="cb2-3"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> os</span>
<span id="cb2-4"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> datetime</span>
<span id="cb2-5"></span>
<span id="cb2-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># log_dir defaults to Desktop</span></span>
<span id="cb2-7">log_dir <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'/home/matias/Desktop'</span></span>
<span id="cb2-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># updates every 100 keystrokes</span></span>
<span id="cb2-9">update_every <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1000</span></span>
<span id="cb2-10">day_count <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span></span>
<span id="cb2-11">today <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> datetime.date.today().isoformat()</span>
<span id="cb2-12">   </span>
<span id="cb2-13"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> on_press(key):</span>
<span id="cb2-14">    logging.info(<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>(key))</span>
<span id="cb2-15"></span>
<span id="cb2-16"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> key_count(key):</span>
<span id="cb2-17">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">global</span> today, day_count, update_every</span>
<span id="cb2-18">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> today <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> datetime.date.today().isoformat():</span>
<span id="cb2-19">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> day_count <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%</span> update_every <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>:</span>
<span id="cb2-20">            <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Today is </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>today<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;"> and the key count is: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>day_count<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb2-21">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># always update the counter</span></span>
<span id="cb2-22">        day_count <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> day_count <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span></span>
<span id="cb2-23">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">else</span>:</span>
<span id="cb2-24">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># update today's value</span></span>
<span id="cb2-25">        today <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> datetime.date.today().isoformat()</span>
<span id="cb2-26">        <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Today is a brand new day :)"</span>)</span>
<span id="cb2-27">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># reset the counter</span></span>
<span id="cb2-28">        day_count <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span></span>
<span id="cb2-29">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span></span>
<span id="cb2-30"></span>
<span id="cb2-31"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> main():</span>
<span id="cb2-32">    logging.basicConfig(filename <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> (os.path.join(log_dir, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"keylog.txt"</span>)),</span>
<span id="cb2-33">     level<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>logging.DEBUG,</span>
<span id="cb2-34">     <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">format</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%(asctime)s</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%(message)s</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'</span>)</span>
<span id="cb2-35">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">with</span> Listener(</span>
<span id="cb2-36">        on_press<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>on_press,</span>
<span id="cb2-37">        on_release<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>key_count) <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> listener:</span>
<span id="cb2-38">        listener.join()</span>
<span id="cb2-39"></span>
<span id="cb2-40"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">__name__</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'__main__'</span>:</span>
<span id="cb2-41">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Starting keylogger"</span>)</span>
<span id="cb2-42">    main()</span></code></pre></div>
</details>
</div>




<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>It’s 2023 and I still struggle with this. Buy a proper keyboard and pay attention to ergonomics. Physical Therapy helps. Get help. Take care of yourself.↩︎</p></li>
</ol>
</section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{andina2020,
  author = {Andina, Matias},
  title = {Python {Keylogger}},
  date = {2020-06-13},
  url = {https://matiasandina.netlify.app/posts/2020-06-13-python-keylogger/},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-andina2020" class="csl-entry quarto-appendix-citeas">
Andina, Matias. 2020. <span>“Python Keylogger.”</span> June 13, 2020. <a href="https://matiasandina.netlify.app/posts/2020-06-13-python-keylogger/">https://matiasandina.netlify.app/posts/2020-06-13-python-keylogger/</a>.
</div></div></section></div> ]]></description>
  <category>fun</category>
  <category>python</category>
  <guid>https://matiasandina.netlify.app/posts/2020-06-13-python-keylogger/</guid>
  <pubDate>Fri, 12 Jun 2020 23:00:00 GMT</pubDate>
</item>
<item>
  <title>Complex Fun</title>
  <dc:creator>Matias Andina</dc:creator>
  <link>https://matiasandina.netlify.app/posts/2020-04-30-complex-fun/</link>
  <description><![CDATA[ 





<div class="cell" data-fig.asp="0.5">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2020-04-30-complex-fun/index_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<hr>
<p>People say that if you have to explain a joke, it loses value. Probably true. I guess I just wanted to partially comment on how different disciplines analyze different levels of complexity.</p>
<p>As molecular biologist, I think we were trained to seldom think about the whole system, we were trained to just give up complexity and focus on a couple of fancy names (yes, YFG fits pretty well as the center of this Universe). Genes are awesome, weak protein-protein interactions and conformational changes rock. Are you missing the whole world by focusing too much?</p>
<p>As a biologist, I think we were trained by association (i.e., “If this, then that. Now repeat logic for a million different processes”). This means that our view of every phenomenon tends to be overly complicated. We do this at every scale we analyze Life, not always with the study complexity in mind, but just as a reflex. This is not an intrinsic fault of the biologist, it might be just a result of how data is collected and the empirical nature of the field.</p>
<p>I think physicists get it often right, as simple as it should be, not less. If the whole thing is a tennis ball, and your system of interest is ruled by macro laws, just approximate and do <img src="https://latex.codecogs.com/png.latex?m%5Cvec%7Bg%7D">.</p>
<p>All in all, this is the same dataset, 3 worlds apart (or 3 convention centers apart). I think the joke is on us :smile:.</p>
<hr>
<p>For those of you who want to recreate, you can find the R code below:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyverse)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(xkcd)</span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(patchwork)</span>
<span id="cb1-4"></span>
<span id="cb1-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">set.seed</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)</span>
<span id="cb1-6">df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tibble</span>(</span>
<span id="cb1-7">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rnorm</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>),</span>
<span id="cb1-8">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rnorm</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)</span>
<span id="cb1-9">) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb1-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">time =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">n</span>())</span>
<span id="cb1-11">df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> tweenr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tween_along</span>(df,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'cubic-in-out'</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1000</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">along =</span> time)</span>
<span id="cb1-12"></span>
<span id="cb1-13"></span>
<span id="cb1-14">my_theme <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span></span>
<span id="cb1-15">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_xkcd</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb1-16">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.border =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill=</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"black"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>),</span>
<span id="cb1-17">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.text =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),</span>
<span id="cb1-18">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.ticks =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),</span>
<span id="cb1-19">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot.title =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hjust =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>))</span>
<span id="cb1-20"></span>
<span id="cb1-21"></span>
<span id="cb1-22">p0 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(df <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">slice</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(x,y))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb1-23">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_jitter</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb1-24">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">position=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"jitter"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb1-25">  my_theme<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb1-26">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"MOLECULAR</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">BIOLOGIST"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>)</span>
<span id="cb1-27"></span>
<span id="cb1-28">p1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(df <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sample_n</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1000</span>), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(x,y))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb1-29">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_path</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">lwd=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb1-30">  my_theme<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb1-31">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"BIOLOGIST"</span>)</span>
<span id="cb1-32"></span>
<span id="cb1-33">p2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb1-34">  ggforce<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_circle</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x0=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y0=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">r=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gray30"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color=</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb1-35">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_segment</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xend=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">yend=</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>),</span>
<span id="cb1-36">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">arrow =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">arrow</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">length =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">unit</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cm"</span>),</span>
<span id="cb1-37">                             <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">type =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"closed"</span>),</span>
<span id="cb1-38">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">arrow.fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"black"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"black"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb1-39">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_text</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y=</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"mg"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"black"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb1-40">  my_theme <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb1-41">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PHYSICIST"</span>)</span>
<span id="cb1-42">  </span>
<span id="cb1-43">p0 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> p1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> p2</span></code></pre></div>
</details>
</div>



<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{andina2020,
  author = {Andina, Matias},
  title = {Complex {Fun}},
  date = {2020-04-30},
  url = {https://matiasandina.netlify.app/posts/2020-04-30-complex-fun/},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-andina2020" class="csl-entry quarto-appendix-citeas">
Andina, Matias. 2020. <span>“Complex Fun.”</span> April 30, 2020. <a href="https://matiasandina.netlify.app/posts/2020-04-30-complex-fun/">https://matiasandina.netlify.app/posts/2020-04-30-complex-fun/</a>.
</div></div></section></div> ]]></description>
  <category>art</category>
  <category>fun</category>
  <category>R</category>
  <guid>https://matiasandina.netlify.app/posts/2020-04-30-complex-fun/</guid>
  <pubDate>Wed, 29 Apr 2020 23:00:00 GMT</pubDate>
</item>
<item>
  <title>The power of compounding</title>
  <dc:creator>Matias Andina</dc:creator>
  <link>https://matiasandina.netlify.app/posts/2020-01-20-The-power-of-compounding/</link>
  <description><![CDATA[ 





<p>Paying attention to the small details sounds like a waste of time. Where’s that 80/20 rule when I need it? Well, yes, talking about a small increment sounds boring and useless. A 1% increase in performance might seem trivial. Unexciting. A rounding error.</p>
<p>But it is often neglected because we don’t have a good dimension of scales (e.g., A small percent of a lot of money it’s a lot of money) or even when we do, we fail to grasp what exponential phenomena look like. For example, if I double the amount of water on a glass each time I pour water into it, you will see the glass go from half empty to overfull in one round. Yes, doubling is a way bigger rate than 1% increase, but I don’t want to get into math<sup>1</sup>. I’m actually using <em>compounding</em> in quite a loose way.</p>
<p>Moreover:</p>
<blockquote class="blockquote">
<p>It’s not only what the 1% can do for you now, it’s what it will do for you from now on.</p>
</blockquote>
<section id="happiness" class="level2">
<h2 class="anchored" data-anchor-id="happiness">Happiness</h2>
<p>How did we get to happiness? I don’t really know. I guess I just noticed that a couple of very small details, small daily decisions, have a tremendous impact in the way I feel, and the mental freedom that they bring is quite refreshing. We know what they are: eating healthy, sleeping well, moving the butt away from the chair and shaking it whatever way you fancy!</p>
<p>Take meditation and the power of breathing. Simple, right? Well, not really, and it will take a while for you to set it up right. Eventually, you will be able to access the power in one breath. But it will not happen the first time you sit for a session. You need to keep your mind on breath after breath, minute after minute of being present. What you need is a <strong>system</strong>. And you need <strong>patience</strong> for letting your system to do the work.</p>
<p>One mindful breath is inconsequential, just an infinitesimal drop in the Universe of mindless breathing. But what happens when you start practicing, compounding the power of the infinitesimal? Can you feel the difference? Me too.</p>
</section>
<section id="investing" class="level2">
<h2 class="anchored" data-anchor-id="investing">Investing</h2>
<p>It’s no secret that all investment revolves around compounding. Set up your systems (aka, allocate your money) and let it run. I just thought I would remark words of a wise investor, letting us know that, even when we are talking about money, compounding is king but takes a little while to show up to the party.</p>
<blockquote class="blockquote">
<p>Patience and optimism are also keys to investing success. Patience because it takes time for the power of compounding to unfold. Optimism because we have to trust the future will allow it the opportunity.<sup>2</sup></p>
</blockquote>
</section>
<section id="relationships" class="level2">
<h2 class="anchored" data-anchor-id="relationships">Relationships</h2>
<p>What if we apply the power of compounding to our relationships? How many more times are you going to suffer because of someone? I will give you a small system: two questions and one quote.</p>
<ol type="1">
<li>What if you stopped hanging around people who bring conflict and suffering?</li>
<li>What if you started hanging around people who don’t bring conflict and suffering?</li>
</ol>
<blockquote class="blockquote">
<p>The first rule of handling conflict is don’t hang around people who are constantly engaging in conflict. (. . .) All of the value in life, including in relationships, comes from compound interest. People who regularly fight with others will eventually fight with you. I’m not interested in anything that’s unsustainable or even hard to sustain, including difficult relationships. – Naval Ravikant</p>
</blockquote>
</section>
<section id="summary" class="level2">
<h2 class="anchored" data-anchor-id="summary">Summary</h2>
<p>I hear what you are saying, <em>Setting systems up is boring</em>. Maybe. <em>You have to troubleshoot them, you have to stress test them</em>. True. <em>Moreover, once you have them, they still haven’t solved the problem that first got you to think about setting them up</em>. Of Course! You will find yourself asking whether your systems will ever accomplish something. This is because they actually do nothing for a while. Their power lives in the compounding, it feeds from the amount of time that the system has been running.</p>
<p>Setting up systems is the best way to get rid of your problems. Why? Because once you have systems, your problems are no longer yours, they belong to the systems that you put in place. Slowly, but surely, your systems will kick ass.</p>
<p>A random tweet reminded me that a small improvement each day for a year can make a big difference. Simple and to the point, the power of compounding:</p>
<pre><code>1.01³⁶⁵ ≈ 37.78</code></pre>
<p>What will you apply this power to?</p>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>unless you read until the end, when the 1% comes for the revenge!↩︎</p></li>
<li id="fn2"><p>I couldn’t have said this better, so I quote <a href="https://jlcollinsnh.com/2018/06/07/stocks-part-xxxiii-optimism/">JL Collins</a>↩︎</p></li>
</ol>
</section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{andina2020,
  author = {Andina, Matias},
  title = {The Power of Compounding},
  date = {2020-01-20},
  url = {https://matiasandina.netlify.app/posts/2020-01-20-The-power-of-compounding/},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-andina2020" class="csl-entry quarto-appendix-citeas">
Andina, Matias. 2020. <span>“The Power of Compounding.”</span> January
20, 2020. <a href="https://matiasandina.netlify.app/posts/2020-01-20-The-power-of-compounding/">https://matiasandina.netlify.app/posts/2020-01-20-The-power-of-compounding/</a>.
</div></div></section></div> ]]></description>
  <guid>https://matiasandina.netlify.app/posts/2020-01-20-The-power-of-compounding/</guid>
  <pubDate>Mon, 20 Jan 2020 00:00:00 GMT</pubDate>
</item>
<item>
  <title>Escribiendo en pocas palabras</title>
  <dc:creator>Matias Andina</dc:creator>
  <link>https://matiasandina.netlify.app/posts/2020-01-02-escribiendo-en-pocas-palabras/</link>
  <description><![CDATA[ 





<blockquote class="blockquote">
<p>Lo bueno, si breve, dos veces bueno.</p>
</blockquote>
<p>Me tomo la libertad de este juego literario<sup>1</sup> para introducir un ensayo con algunas pautas interesantes para escribir. En pocas palabras, Paul Graham nos regala una lista de acciones que es conveniente tomar para producir escritos de calidad.</p>
<p>La siguiente es una traduccion del ensayo “Writing, Briefly” escrito por Paul Graham<sup>2</sup>.</p>
<section id="escribir-en-pocas-palabras" class="level2">
<h2 class="anchored" data-anchor-id="escribir-en-pocas-palabras">Escribir, en pocas palabras</h2>
<p>(En el proceso de responder un email, accidentalmente escribí un pequeño ensayo sobre cómo escribir. Normalmente dedico semanas a cada ensayo. Este tardó 67 minutos – 23 para escribirlo y 44 para reescribirlo.)</p>
<p>Creo que escribir bien es mucho más importante que lo que la gente se imagina. Escribir no sólo comunica ideas, las genera. Si eres malo escribiendo y no te gusta hacerlo, perderás la oportunidad de generar la mayoría de las ideas que la escritura te hubiera regalado.</p>
<p>En cuanto a cómo escribir bien, aquí dejo una breve sugerencia: Escribe una primera versión mala tan rápido como puedas; reescríbela una y otra vez; remueve todo aquello que sea innecesario; escribe en un tono de conversación; desarrolla un buen olfato para detectar malos escritos, de modo que así puedas arreglar los tuyos; imita a escritores que te gusten; Si no puedes empezar, cuéntale a alguien sobre lo que planeas escribir, luego escribe lo que les contaste; ten en cuenta que 80% de las ideas en un ensayo ocurren después de empezar a escribirlo, y 50% de las ideas con las que empiezas estarán erradas; mantén la confianza para remover texto; comparte tus textos con amigos de confianza, para que te digan qué partes son confusas o lentas; no siempre es necesario empezar con un esquema del texto; reflexiona sobre las ideas por un par de días antes de escribirlas; lleva contigo un anotador o pedazos sueltos de papel; empieza a escribir cuando pienses en la primera oración; si una fecha límite te fuerza a empezar antes de tener la primera frase, escoge la frase más importante para comenzar; escribe sobre cosas que te gusten; no trates de impresionar con tu vocabulario; no dudes en cambiar el tópico en el medio del texto; usa notas al pie para conservar digresiones; usa anáforas para entretejer las oraciones; lee tus ensayos en voz alta para ver (a) dónde suenan extraños y (b) qué pedazos son aburridos (aquellos que odias leer); intenta decirle al lector algo nuevo y útil; trabaja durante períodos prolongados; cuando debas comenzar de nuevo, hazlo releyendo lo que tienes hasta ahora; cuando debas terminar, deja algo que facilite comenzar de nuevo; acumula notas de tópicos que planeas escribir al final del archivo; no te sientas obligado a tratar ninguno de ellos; escribe para un lector que no va a leer tu ensayo con tanto cuidado como tú, del mismo modo que las canciones pop fueron diseñadas para sonar de manera aceptable en radios baratas; si dices algo equivocado, corrígelo inmediatamente; pregunta a amigos cuáles son las oraciones de las que te arrepentirás; vuelve al texto y baja el tono de los comentarios duros; publica tus textos online, porque tener una audiencia te hace escribir más y, por lo tanto, generar más ideas; imprime borradores en vez de mirarlos en la pantalla; utiliza palabras simples; aprende a distinguir sorpresas de digresiones; aprende a reconocer la oportunidad para finalizar y, cuando uno aparezca, tómala.</p>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>La coma en “Writing, briefly” cambia el significado de “escribiendo” a “escribir”. Me permito jugar a estar escribiendo en pocas palabras sobre cómo escribir en pocas palabras.↩︎</p></li>
<li id="fn2"><p>http://www.paulgraham.com/writing44.html↩︎</p></li>
</ol>
</section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{andina2020,
  author = {Andina, Matias},
  title = {Escribiendo En Pocas Palabras},
  date = {2020-01-02},
  url = {https://matiasandina.netlify.app/posts/2020-01-02-escribiendo-en-pocas-palabras/},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-andina2020" class="csl-entry quarto-appendix-citeas">
Andina, Matias. 2020. <span>“Escribiendo En Pocas Palabras.”</span>
January 2, 2020. <a href="https://matiasandina.netlify.app/posts/2020-01-02-escribiendo-en-pocas-palabras/">https://matiasandina.netlify.app/posts/2020-01-02-escribiendo-en-pocas-palabras/</a>.
</div></div></section></div> ]]></description>
  <guid>https://matiasandina.netlify.app/posts/2020-01-02-escribiendo-en-pocas-palabras/</guid>
  <pubDate>Thu, 02 Jan 2020 00:00:00 GMT</pubDate>
</item>
<item>
  <title>Writing Checklist</title>
  <dc:creator>Matias Andina</dc:creator>
  <link>https://matiasandina.netlify.app/posts/2020-01-02-writing-checklist/</link>
  <description><![CDATA[ 





<p>I spent a good portion of the end of 2019 and the beginning of 2020 reading Paul Graham’s essays. Many caught my attention (and my fingers to take notes). I want to comment on an essay about advice for good writing. Because it was written in a way that allowed for easy reformatting (ideas separated by <code>;</code>), I thought it would be cool to convert the prose into a checklist).</p>
<section id="creating-the-checklist" class="level2">
<h2 class="anchored" data-anchor-id="creating-the-checklist">Creating the checklist</h2>
<p>The main text comes from <a href="http://www.paulgraham.com/writing44.html">here</a>. For simplicity, I have only used the main paragraph (aka, copy and paste the second paragraph). I omitted it here because it would be long and you can read it in the native format from the source.</p>
<p>In the code chunk below I comment the steps I took.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># text is copy-paste of the second paragraph</span></span>
<span id="cb1-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># text &lt;- c("...") ... == copy-paste</span></span>
<span id="cb1-3"></span>
<span id="cb1-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># split using "; "</span></span>
<span id="cb1-5">sp <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> stringr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_split</span>(text, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"; "</span>)</span>
<span id="cb1-6"></span>
<span id="cb1-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># To create a checklist</span></span>
<span id="cb1-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># DASH SPACE [ ] SPACE SPACE</span></span>
<span id="cb1-9">sp <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"- [ ]  "</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">unlist</span>(sp))</span>
<span id="cb1-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># append markdown title</span></span>
<span id="cb1-11">sp <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"# Paul Graham's Writing Checklist"</span>, sp)</span>
<span id="cb1-12"></span>
<span id="cb1-13"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Capitalize first letter of every sentence</span></span>
<span id="cb1-14">sp <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> stringr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_to_sentence</span>(sp)</span></code></pre></div>
</div>
<p>If you want to write it to file, you can use <code>writeLines()</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># write</span></span>
<span id="cb2-2">fileConn <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">file</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"paul_graham_writing_checklist.md"</span>)</span>
<span id="cb2-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">writeLines</span>(sp, fileConn)</span>
<span id="cb2-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">close</span>(fileConn)</span>
<span id="cb2-5"></span>
<span id="cb2-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># If you want to knit to html you can do this</span></span>
<span id="cb2-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># knitr::knit2html("paul_graham_writing_checklist.md")</span></span></code></pre></div>
</div>
<p>Let’s take a look at the product:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># printing for web post</span></span>
<span id="cb3-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cat</span>(sp, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sep =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># Paul graham's writing checklist
- [ ]  Write a bad version 1 as fast as you can
- [ ]  Rewrite it over and over
- [ ]  Cut out everything unnecessary
- [ ]  Write in a conversational tone
- [ ]  Develop a nose for bad writing, so you can see and fix it in yours
- [ ]  Imitate writers you like
- [ ]  If you can't get started, tell someone what you plan to write about, then write down what you said
- [ ]  Expect 80% of the ideas in an essay to happen after you start writing it, and 50% of those you start with to be wrong
- [ ]  Be confident enough to cut
- [ ]  Have friends you trust read your stuff and tell you which bits are confusing or drag
- [ ]  Don't (always) make detailed outlines
- [ ]  Mull ideas over for a few days before writing
- [ ]  Carry a small notebook or scrap paper with you
- [ ]  Start writing when you think of the first sentence
- [ ]  If a deadline forces you to start before that, just say the most important sentence first
- [ ]  Write about stuff you like
- [ ]  Don't try to sound impressive
- [ ]  Don't hesitate to change the topic on the fly
- [ ]  Use footnotes to contain digressions
- [ ]  Use anaphora to knit sentences together
- [ ]  Read your essays out loud to see (a) where you stumble over awkward phrases and (b) which bits are boring (the paragraphs you dread reading)
- [ ]  Try to tell the reader something new and useful
- [ ]  Work in fairly big quanta of time
- [ ]  When you restart, begin by rereading what you have so far
- [ ]  When you finish, leave yourself something easy to start with
- [ ]  Accumulate notes for topics you plan to cover at the bottom of the file
- [ ]  Don't feel obliged to cover any of them
- [ ]  Write for a reader who won't read the essay as carefully as you do, just as pop songs are designed to sound ok on crappy car radios
- [ ]  If you say anything mistaken, fix it immediately
- [ ]  Ask friends which sentence you'll regret most
- [ ]  Go back and tone down harsh remarks
- [ ]  Publish stuff online, because an audience makes you write more, and thus generate more ideas
- [ ]  Print out drafts instead of just looking at them on the screen
- [ ]  Use simple, germanic words
- [ ]  Learn to distinguish surprises from digressions
- [ ]  Learn to recognize the approach of an ending, and when one appears, grab it.</code></pre>
</div>
</div>
<p>The checklist is not in strict chronological order, so I might try to reshape it later into something that would make more sense as a timeline. It will render as a checklist in something that is GitHub flavored (e.g., on GitHub). However, I will probably just use it as text file or print it as is.</p>
<p>I also noticed that the link for the Spanish translation is broken/outdated, so I tried my best to translate it. <a href="../../2020/01/escribiendo-en-pocas-palabras/">Here it is</a></p>
</section>
<section id="summary" class="level2">
<h2 class="anchored" data-anchor-id="summary">Summary</h2>
<p>I think this checklist is an awesome learning opportunity and a clear path to improving one’s writing. Quite happy to have found it, looking forward to improving my skills.</p>
<p>I got to learn a few cool R things like, 1) I can use <code>writeLines()</code> to write a <code>.md</code> file and 2) <code>stringr::str_to_sentence()</code> is an <strong>awesome</strong> function.</p>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{andina2020,
  author = {Andina, Matias},
  title = {Writing {Checklist}},
  date = {2020-01-02},
  url = {https://matiasandina.netlify.app/posts/2020-01-02-writing-checklist/},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-andina2020" class="csl-entry quarto-appendix-citeas">
Andina, Matias. 2020. <span>“Writing Checklist.”</span> January 2, 2020.
<a href="https://matiasandina.netlify.app/posts/2020-01-02-writing-checklist/">https://matiasandina.netlify.app/posts/2020-01-02-writing-checklist/</a>.
</div></div></section></div> ]]></description>
  <category>writing</category>
  <category>learning</category>
  <category>DocumentingLearning</category>
  <category>R</category>
  <guid>https://matiasandina.netlify.app/posts/2020-01-02-writing-checklist/</guid>
  <pubDate>Thu, 02 Jan 2020 00:00:00 GMT</pubDate>
</item>
<item>
  <title>Fitbit Analysis</title>
  <dc:creator>Matias Andina</dc:creator>
  <link>https://matiasandina.netlify.app/posts/2019-11-22-fitbit-analysis/</link>
  <description><![CDATA[ 





<p>It’s been a bit more than a year since I got a fitbit and I have been pretty excited about tracking my activity and heart rate. I should say I’m quite surprised about the sleep data. Tracking sleep has been, in fact, the most exciting feature, and I now strive to get at least 7 hours of sleep per night.</p>
<p>Let’s first see a glimpse of the data, just to know what type of data we are dealing with.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-3_449d71aadc60365c95379d226147e553">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 8
  date_time           dateTime   dataset_time variable value total_value
  &lt;dttm&gt;              &lt;date&gt;     &lt;time&gt;       &lt;chr&gt;    &lt;dbl&gt;       &lt;dbl&gt;
1 2018-06-10 00:00:00 2018-06-10 00'00"       steps        0        7256
2 2018-06-10 00:01:00 2018-06-10 01'00"       steps        8        7256
3 2018-06-10 00:02:00 2018-06-10 02'00"       steps        0        7256
4 2018-06-10 00:03:00 2018-06-10 03'00"       steps        0        7256
5 2018-06-10 00:04:00 2018-06-10 04'00"       steps        0        7256
# ℹ 2 more variables: date &lt;date&gt;, time &lt;time&gt;</code></pre>
</div>
</div>
<section id="density-plots" class="level2">
<h2 class="anchored" data-anchor-id="density-plots">Density plots</h2>
<p>Let’s now inspect the overall distribution for heart rate and step values.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-4_7f262ef97126c97a9f9b5ff7195a56e8">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2019-11-22-fitbit-analysis/index_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="when-do-i-move" class="level2">
<h2 class="anchored" data-anchor-id="when-do-i-move">When do I move?</h2>
<p>I will start by focusing on the data for steps.</p>
<p>I’m curious to see what times of the day have the most activity. Because I have a quite large amount of data points (~751 K) I will use <code>geom_hex()</code> to count for me and simplify rendering<sup>1</sup>.</p>
<div class="cell" data-hash="index_cache/html/steps-1_8d6c71e6ad4638b0de99fb1db91cc53b">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2019-11-22-fitbit-analysis/index_files/figure-html/steps-1-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Well, I should have remembered that for the vast majority of minutes (regardless of the hour of the day), the count is exactly zero. Let’s only look at the positive counts:</p>
<div class="cell" data-hash="index_cache/html/steps-2_ad7004a8e0bb2c9104f43a69ad49a0af">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2019-11-22-fitbit-analysis/index_files/figure-html/steps-2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>We see now some patches that have high activity (&gt; 100 steps), particularly around 9:00, 12:00 and 18:00. These mostly correspond to “going to work”, “activity around lunch time (?)”, and “going home / physical activity”. For all other cases, it looks like I move around 10-20 steps per minute, regardless of the minute within the hour.</p>
<section id="last-10-minutes" class="level3">
<h3 class="anchored" data-anchor-id="last-10-minutes">Last 10 minutes</h3>
<p>The result above is interesting because I usually have to be reminded by Fitbit to “move up to 250 steps in the hour”. I receive this notification during the last 10 minutes of the hour and I would think that during those 10 minutes I put more steps than during the first 50. The data show I’m wrong:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2019-11-22-fitbit-analysis/index_files/figure-html/last-10-plot-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>That being said, I want to keep my reminder on. I feel like having it turned on definitely adds ~ 1000-2000 steps per day.</p>
</section>
<section id="daily-average" class="level3">
<h3 class="anchored" data-anchor-id="daily-average">Daily average</h3>
<p>Let’s get one level above and aggregate each day as a unit. This plot shows a nice trend, with months from May to August showing an increase on the number of steps. Keep in mind that November will show little average steps because for that month we have incomplete data (last day in database is 2019-11-13),</p>
<div class="cell" data-hash="index_cache/html/steps-3_71a509a22fe214d601e90217c476bdc1">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2019-11-22-fitbit-analysis/index_files/figure-html/steps-3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>At this part of the analysis, I should make clear that I took vacations from <code>2019-06-27</code> to <code>2019-07-11</code>. We will use this information in the analysis to make some things clear.</p>
</section>
</section>
<section id="distribution" class="level2">
<h2 class="anchored" data-anchor-id="distribution">Distribution</h2>
<p>We looked at the average daily steps for each month, how about the distribution of daily steps? We see that most days I come quite close to the default target of 10K steps. There are some days with very little steps (see below) and, obviously, some days with extreme number of steps.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2019-11-22-fitbit-analysis/index_files/figure-html/typical-events-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="extreme-events" class="level2">
<h2 class="anchored" data-anchor-id="extreme-events">Extreme events</h2>
<p>Using the boxplot below, we can define <em>extreme events</em> as instances where I walked more than 20K steps. I chose to plot this by day of the week, to get an insight about periodicity of events.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2019-11-22-fitbit-analysis/index_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Because I walked a lot during the vacations, I highlighted the days on top of the previous boxplot. Most of the extreme events are definitely during the vacations. Moreover, none of the days I walked less than 10K steps, pretty amazing!</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2019-11-22-fitbit-analysis/index_files/figure-html/vacations-2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>There are some extreme <em>low</em> events, these are quite likely the days I just don’t wear the fitbit (or days I forget to wear it for most of the day). Just because I can order the data and make another plot, I went ahead and did it!</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2019-11-22-fitbit-analysis/index_files/figure-html/arranged-steps-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>We usually go for walks on Saturdays and/or Sundays. Knowing this little piece of data, it’s quite expected to see Saturdays being the days with higher number of steps (and hence higher success rate on the 10K target).</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2019-11-22-fitbit-analysis/index_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="season" class="level2">
<h2 class="anchored" data-anchor-id="season">Season</h2>
<p>I want to turn the focus now to the seasonality of the data. I will use a helper function <code>getSeason()</code> that I took from <a href="https://stackoverflow.com/questions/9500114/find-which-season-a-particular-date-belongs-to">StackOverflow</a>.</p>
<p>We can inspect the effect of season on my walking.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2019-11-22-fitbit-analysis/index_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The plot above is not good, it fails to communicate. I think this is a better way to show the data.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://matiasandina.netlify.app/posts/2019-11-22-fitbit-analysis/index_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="a-years-heart-rate-in-one-plot" class="level2">
<h2 class="anchored" data-anchor-id="a-years-heart-rate-in-one-plot">A year’s heart rate in one plot</h2>
<p>I’m borrowing <strong>heavily</strong> from <a href="https://livefreeordichotomize.com/2017/12/27/a-year-as-told-by-fitbit/">Nick</a> here. But I thought it was a brilliant plot, so I took it for a ride with my data. I actually changed a few things, I decided to keep the native sampling rate and use <code>geom_line()</code> instead of down-sampling and using <code>geom_tile()</code>. The overall trend is clear, movements during the morning and the afternoon that correlate well with going and coming back from work. Somewhere around July 2019 you can see the change in timezone when I took vacations. There are a couple of days in late May with continuously high or lacking values, I take this as one of the days I forgot the fitbit at home, likely spurious measures.</p>
<p><img src="https://matiasandina.netlify.app/posts/2019-11-22-fitbit-analysis/heart_plot.png" class="img-fluid"></p>
</section>
<section id="code" class="level2">
<h2 class="anchored" data-anchor-id="code">Code</h2>
<p>The code for this post is quite long and I thought it would get in the way. I am happy to share upon request, hit me up on <a href="https://twitter.com/NeuroMLA">Twitter</a> or in the comments below.</p>
</section>
<section id="sources" class="level2">
<h2 class="anchored" data-anchor-id="sources">Sources</h2>
<ul>
<li>https://livefreeordichotomize.com/2017/12/27/a-year-as-told-by-fitbit/</li>
</ul>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>I had been searching for excuses to use this function for a while. Check it out <a href="https://ggplot2.tidyverse.org/reference/geom_hex.html">here</a>↩︎</p></li>
</ol>
</section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{andina2019,
  author = {Andina, Matias},
  title = {Fitbit {Analysis}},
  date = {2019-11-22},
  url = {https://matiasandina.netlify.app/posts/2019-11-22-fitbit-analysis/},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-andina2019" class="csl-entry quarto-appendix-citeas">
Andina, Matias. 2019. <span>“Fitbit Analysis.”</span> November 22, 2019.
<a href="https://matiasandina.netlify.app/posts/2019-11-22-fitbit-analysis/">https://matiasandina.netlify.app/posts/2019-11-22-fitbit-analysis/</a>.
</div></div></section></div> ]]></description>
  <category>tracking</category>
  <category>learning</category>
  <category>R</category>
  <guid>https://matiasandina.netlify.app/posts/2019-11-22-fitbit-analysis/</guid>
  <pubDate>Fri, 22 Nov 2019 00:00:00 GMT</pubDate>
</item>
</channel>
</rss>
