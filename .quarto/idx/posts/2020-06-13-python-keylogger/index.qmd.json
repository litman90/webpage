{"title":"Python Keylogger","markdown":{"yaml":{"title":"Python Keylogger","date":"2020-06-13","categories":["fun","python"],"mathjax":true},"headingText":"log_dir defaults to Desktop","containsRefs":false,"markdown":"\n\nI have been struggling a lot with pain in my fingers and wrists[^longtime].\n\n[^longtime]: It's 2023 and I still struggle with this. Buy a proper keyboard and pay attention to ergonomics. Physical Therapy helps. Get help. Take care of yourself.\n\nI have tried setting up timers for using the keyboard. \nBut the only thing that seems to work is reducing the typing (aka get away from the computer and stop using the keyboard!).\n\nTracking hours didn't work well, so I guess a last resort to force me is counting the actual number of keys per day and trying to keep that to a minimum.\n\nAfter a little google searching, I found inspiration on this post: [Design a Keylogger in Python](https://www.tutorialspoint.com/design-a-keylogger-in-python). \n\nI wanted something **simple**. Just count and save to file, in case future me wants to do some sort of analysis. Nothing fancy, no optimization. Most importantly something I can trust is not sending every keystroke I write over the internets.\n\n> I will be using pynput library\n\nYou can read the [pynput docs here](https://pynput.readthedocs.io/en/latest/keyboard.html).\n\nOf note, `pip3 install pynput` failed. If only python made it possible for people to install things ... ü§∑\n\nAnyway, mystery aside, `python -m pip install pynput` worked. I kind of trust this library is safe enough (read: *blind faith in open-source*) . And my passwords are kinda there scrambled somewhere in the text file but I don't plan to host the file anywhere so it's reasonably safe (please don't get remote access to my computer üôè).\n\nThe output to console (again, keep it simple) looks like this:\n\n```\nToday is 2020-06-11 and the key count is: 0\n...\nToday is 2020-06-11 and the key count is: 12000\nToday is a brand new day :)\nToday is 2020-06-12 and the key count is: 0\nToday is 2020-06-12 and the key count is: 1000\nToday is 2020-06-12 and the key count is: 2000\n...\nToday is 2020-06-12 and the key count is: 13000\nToday is a brand new day :)\nToday is 2020-06-13 and the key count is: 0\nToday is 2020-06-13 and the key count is: 1000\nToday is 2020-06-13 and the key count is: 2000\n```\n\nFor those of you who want to use it, you can find the code below:\n\n```{python}\n#| eval: false\n#| echo: true\n#| code-fold: true\n#| code-summary: Check the Code \nfrom pynput.keyboard import Key, Listener\nimport logging\nimport os\nimport datetime\n\nlog_dir = '/home/matias/Desktop'\n# updates every 100 keystrokes\nupdate_every = 1000\nday_count = 0\ntoday = datetime.date.today().isoformat()\n   \ndef on_press(key):\n\tlogging.info(str(key))\n\ndef key_count(key):\n\tglobal today, day_count, update_every\n\tif today == datetime.date.today().isoformat():\n\t\tif day_count % update_every == 0:\n\t\t\tprint(f\"Today is {today} and the key count is: {day_count}\")\n\t\t# always update the counter\n\t\tday_count = day_count + 1\n\telse:\n\t\t# update today's value\n\t\ttoday = datetime.date.today().isoformat()\n\t\tprint(\"Today is a brand new day :)\")\n\t\t# reset the counter\n\t\tday_count = 0\n\treturn\n\ndef main():\n\tlogging.basicConfig(filename = (os.path.join(log_dir, \"keylog.txt\")),\n\t level=logging.DEBUG,\n\t format='%(asctime)s: %(message)s')\n\twith Listener(\n\t\ton_press=on_press,\n\t\ton_release=key_count) as listener:\n\t\tlistener.join()\n\nif __name__ == '__main__':\n\tprint(\"Starting keylogger\")\n\tmain()\n\n```\n\n","srcMarkdownNoYaml":"\n\nI have been struggling a lot with pain in my fingers and wrists[^longtime].\n\n[^longtime]: It's 2023 and I still struggle with this. Buy a proper keyboard and pay attention to ergonomics. Physical Therapy helps. Get help. Take care of yourself.\n\nI have tried setting up timers for using the keyboard. \nBut the only thing that seems to work is reducing the typing (aka get away from the computer and stop using the keyboard!).\n\nTracking hours didn't work well, so I guess a last resort to force me is counting the actual number of keys per day and trying to keep that to a minimum.\n\nAfter a little google searching, I found inspiration on this post: [Design a Keylogger in Python](https://www.tutorialspoint.com/design-a-keylogger-in-python). \n\nI wanted something **simple**. Just count and save to file, in case future me wants to do some sort of analysis. Nothing fancy, no optimization. Most importantly something I can trust is not sending every keystroke I write over the internets.\n\n> I will be using pynput library\n\nYou can read the [pynput docs here](https://pynput.readthedocs.io/en/latest/keyboard.html).\n\nOf note, `pip3 install pynput` failed. If only python made it possible for people to install things ... ü§∑\n\nAnyway, mystery aside, `python -m pip install pynput` worked. I kind of trust this library is safe enough (read: *blind faith in open-source*) . And my passwords are kinda there scrambled somewhere in the text file but I don't plan to host the file anywhere so it's reasonably safe (please don't get remote access to my computer üôè).\n\nThe output to console (again, keep it simple) looks like this:\n\n```\nToday is 2020-06-11 and the key count is: 0\n...\nToday is 2020-06-11 and the key count is: 12000\nToday is a brand new day :)\nToday is 2020-06-12 and the key count is: 0\nToday is 2020-06-12 and the key count is: 1000\nToday is 2020-06-12 and the key count is: 2000\n...\nToday is 2020-06-12 and the key count is: 13000\nToday is a brand new day :)\nToday is 2020-06-13 and the key count is: 0\nToday is 2020-06-13 and the key count is: 1000\nToday is 2020-06-13 and the key count is: 2000\n```\n\nFor those of you who want to use it, you can find the code below:\n\n```{python}\n#| eval: false\n#| echo: true\n#| code-fold: true\n#| code-summary: Check the Code \nfrom pynput.keyboard import Key, Listener\nimport logging\nimport os\nimport datetime\n\n# log_dir defaults to Desktop\nlog_dir = '/home/matias/Desktop'\n# updates every 100 keystrokes\nupdate_every = 1000\nday_count = 0\ntoday = datetime.date.today().isoformat()\n   \ndef on_press(key):\n\tlogging.info(str(key))\n\ndef key_count(key):\n\tglobal today, day_count, update_every\n\tif today == datetime.date.today().isoformat():\n\t\tif day_count % update_every == 0:\n\t\t\tprint(f\"Today is {today} and the key count is: {day_count}\")\n\t\t# always update the counter\n\t\tday_count = day_count + 1\n\telse:\n\t\t# update today's value\n\t\ttoday = datetime.date.today().isoformat()\n\t\tprint(\"Today is a brand new day :)\")\n\t\t# reset the counter\n\t\tday_count = 0\n\treturn\n\ndef main():\n\tlogging.basicConfig(filename = (os.path.join(log_dir, \"keylog.txt\")),\n\t level=logging.DEBUG,\n\t format='%(asctime)s: %(message)s')\n\twith Listener(\n\t\ton_press=on_press,\n\t\ton_release=key_count) as listener:\n\t\tlistener.join()\n\nif __name__ == '__main__':\n\tprint(\"Starting keylogger\")\n\tmain()\n\n```\n\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":false,"output":true,"warning":false,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"message":false,"engine":"jupyter"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"wrap","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true,"format-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","toc":true,"filters":["social-embeds"],"output-file":"index.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.3.433","editor":"visual","comments":{"utterances":{"repo":"matiasandina/Webpage","label":"Comment","theme":"github-dark"}},"theme":{"light":"cosmo","dark":"cosmo"},"code-copy":true,"title-block-banner":true,"license":"CC BY","toc-title":"Table of contents","toc-location":"right","author":[{"name":"Matias Andina","url":"https://matiasandina.netlify.app","affiliation":"Massachusetts Institute of Technology","orcid":"0000-0002-1996-2539"}],"citation":true,"title":"Python Keylogger","date":"2020-06-13","categories":["fun","python"],"mathjax":true},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}